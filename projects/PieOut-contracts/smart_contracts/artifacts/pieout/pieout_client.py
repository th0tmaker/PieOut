# flake8: noqa
# fmt: off
# mypy: ignore-errors
# This file was automatically generated by algokit-client-generator.
# DO NOT MODIFY IT BY HAND.
# requires: algokit-utils@^3.0.0

# common
import dataclasses
import typing
# core algosdk
import algosdk
from algosdk.transaction import OnComplete
from algosdk.atomic_transaction_composer import TransactionSigner
from algosdk.source_map import SourceMap
from algosdk.transaction import Transaction
from algosdk.v2client.models import SimulateTraceConfig
# utils
import algokit_utils
from algokit_utils import AlgorandClient as _AlgoKitAlgorandClient

_APP_SPEC_JSON = r"""{"arcs": [22, 28], "bareActions": {"call": [], "create": []}, "methods": [{"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint8", "name": "key_size"}, {"type": "uint16", "name": "value_size"}], "name": "calc_single_box_fee", "returns": {"type": "uint64"}, "events": [], "readonly": true, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [], "name": "read_gen_unix", "returns": {"type": "uint64"}, "events": [], "readonly": true, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}], "name": "read_game_state", "returns": {"type": "(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)"}, "events": [], "readonly": true, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}], "name": "read_game_players", "returns": {"type": "address[]"}, "events": [], "readonly": true, "recommendations": {}}, {"actions": {"call": [], "create": ["NoOp"]}, "args": [], "name": "generate", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}, {"type": "pay", "name": "stake_pay"}], "name": "reset_game", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "total_players"}, {"type": "pay", "name": "box_s_pay"}, {"type": "pay", "name": "box_p_pay"}, {"type": "pay", "name": "stake_pay"}], "name": "new_game", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}, {"type": "pay", "name": "stake_pay"}], "name": "join_game", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}, {"type": "pay", "name": "box_c_pay"}], "name": "commit_rand", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}], "name": "play_game", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["NoOp"], "create": []}, "args": [{"type": "uint64", "name": "game_id"}], "name": "claim_prize_pool", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}, {"actions": {"call": ["DeleteApplication"], "create": []}, "args": [], "name": "terminate", "returns": {"type": "void"}, "events": [], "readonly": false, "recommendations": {}}], "name": "Pieout", "state": {"keys": {"box": {}, "global": {"game_id": {"key": "Z2FtZV9pZA==", "keyType": "AVMString", "valueType": "AVMUint64"}, "vrf_commit_id": {"key": "dnJmX2NvbW1pdF9pZA==", "keyType": "AVMString", "valueType": "AVMUint64"}}, "local": {}}, "maps": {"box": {"box_game_state": {"keyType": "uint64", "valueType": "GameState", "prefix": "c18="}, "box_game_players": {"keyType": "uint64", "valueType": "AVMBytes", "prefix": "cF8="}, "box_commit_rand": {"keyType": "address", "valueType": "CommitRand", "prefix": "Y18="}}, "global": {}, "local": {}}, "schema": {"global": {"bytes": 0, "ints": 2}, "local": {"bytes": 0, "ints": 0}}}, "structs": {"CommitRand": [{"name": "game_id", "type": "uint64"}, {"name": "commit_round", "type": "uint64"}], "GameState": [{"name": "staking_finalized", "type": "bool"}, {"name": "max_players", "type": "uint8"}, {"name": "active_players", "type": "uint8"}, {"name": "high_score", "type": "uint8"}, {"name": "box_p_start_pos", "type": "uint16"}, {"name": "prize_pool", "type": "uint64"}, {"name": "manager_address", "type": "address"}, {"name": "winner_address", "type": "address"}]}, "byteCode": {"approval": "CiALAQACIK3+1eTUhf2oWM+Cnrvv796CFP////8P+Jkt//8DAAAmCAEAAnNfAnBfB2dhbWVfaWQEFR98dSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAIAMGgQExG0EAW4IMBBN9EJQEtm0vVgTuAw20BHQByoMEW+IZ8AQQKHXnBNp7Z4UEca+WbgTC1or/BBp4ntAEjoVvkgRf8W2kNhoAjgwA9QDkAM8AugCtAJMAZABKADAAIAAQAAIjQzEZgQUSRDEYRIgGMyJDMRkURDEYRDYaAReIBdciQzEZFEQxGEQ2GgEXiAQ4IkMxGRREMRhENhoBFzEWIglJOBAiEkSIA8giQzEZFEQxGEQ2GgEXMRYiCUk4ECISRIgC9SJDMRkURDEYRDYaARcxFoEDCUk4ECISRDEWJAlJOBAiEkQxFiIJSTgQIhJEiAIGIkMxGRREMRhENhoBFzEWIglJOBAiEkSIAYQiQzEZFEQxGBREiAFcIkMxGRREMRhENhoBF4gA8ycETFCwIkMxGRREMRhENhoBF4gAjScETFCwIkMxGRREMRhEIQkWJwRMULAiQzEZFEQxGEQ2GgE2GgKIAFIWJwRMULAiQ4oEAYAAi/wWi/1MUEm+RIv+JQsjSYsFiwMMiwSMAEEAH4sCiwUlWDEAEkEAFCKMBIv/QQAHiwGLBScFu4sEjACJiwUlCIwFQv/LigIBi/4Xi/8XCIGQAwuBxBMIiYoBAYv/FilLAVC+REkjUygjTwJUSwFXAQFLAlcCAUsDVwMBSwRXBAJLBVcGCEsGVw4gTwdXLiBPCE8IUE8HUE8GUE8FUE8EUE8DUE8CUExQiYoBASNJi/8WKkxQvkxJTwJEgAIAAEwVI4sFiwQMQQA0iwKLBSVYSYwAJwUTiwOMAUEAFIsDVwIAiwBQSRUlChZXBgJMUIwBiwGMA4sFJQiMBUL/xIsDjACJMQAyCRJEKyNngA12cmZfY29tbWl0X2lkI2eJigIAi/4WKUxQSb5ESwG9RQFESVcOIDEAEkRJI1MoI08CVCNTIhJEi/84ADEAEkSL/zgHMgoSRIv/OAghBw9EMQBLAiNPArsjSVSAAQFcAihcAycGXASACAAAAAAAC0z4XAYyA1wuv4mKBACL/IEKDkSL/TgAMQASRIv+OAAxABJEi/84ADEAEkSL/TgHMgoSRIv+OAcyChJEi/84BzIKEkSL/TgIgcTCAQ9Ei/44CCWL/AtJFkmTgRAORFcGAoABCkyI/mNPAg5Ei/84CEkhBw9Ei/wWSZOBCA5EVwcBTBYxADIDKE8EUIABAVAoUCcGUE8DUE8CUExQIytlRBYpTFBMvyMrZUQWKkxQTK9LAbxIvyMrZUQWKkxQIzEAuyMrZUQiCCtMZ4mKAgCL/hYpSwFQSU4CSb1FAUSL/zgAMQASRIv/OAcyChJEi/84CEmBwIQ9D0RLAb5ETwK+RCRVi/4qTwIjiP12FERJVwIBSwFXAQGmREkjUygjTwJUI1MUREmBBFlLASJVJQtLAQ1EKk8EUDEATE4Cu0kkVSIIFkmTgQgORFcHAVwCSYEEWSUIFkmTgRAORFcGAlwESYEGW08CCBZcBkcCVwIBSwFXAQGoQQAHiwEjIlSMAosAiwK/iYoCAIv+FilLAVBJvUUBRIv/OAAxABJEi/84BzIKEkSL/zgIgeSvAQ9EvkQiVYv+Kk8CI4j8xyISRDEXMgYWUAEjWYEDGCQIMgYIFlCAAmNfMQBQTL+JigEAI0cFgABHBYG6bTIMDUEAGLGBBrIQgQWyGScHsh4nB7IfI7IBs0L/34v/FilMUEmMBUm9RQFESb5EIlWL/ypPAiKI/GAiEkS+TElOAowARCNTKCNPAlQjUyISRDEXMQCMA0lXEAgVgQgSRIEQWyMhBB1FASEFHkUBHkUBIQQdRQEhBR5FAYACAGSMBIGAgPz///////8BIh5FASEGGiEIGIwKI4wHjAmLB4FkDEEAXIsJSSEEHUUBIQUeTgJISYESkUsBG4EbkSEGGkyBO5FKkUwcIh5FAYEfGk8CTJAhBhoZSYwGiwoPQQAciwYhCBgiCBZXBgKLBExQjASLByIIjAeMCUL/oYwJQv+kI4wIiwQVjAskjAeLB4sLDEEALCSLC0lOAg8kSwJPAk2LBExPAlKLB1mB8FUOQAAPiwgiCIwIiwckCIwHQv/MiwgWSZOBCA5EVwcBSYwCiwBJTgJXAwGlTIwBQQAMiwCLAlwDiwNcLowBiwFJJFUiCRZJk4EIDkRXBwFcAosFTL+JigEAi/8WKUxQSb1FAURJvkRJI1MoI08CVCNTIhJESSRVFERJVy4gMQASRLExAEsBgQZbsgiyByKyECOyAbOACAAAAAAAAAAAXAa/iTEAMgkSRCEKRIk=", "clear": "CoEBQw=="}, "compilerInfo": {"compiler": "puya", "compilerVersion": {"major": 4, "minor": 7, "patch": 0}}, "events": [], "networks": {}, "source": {"approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBzbWFydF9jb250cmFjdHMucGllb3V0LmNvbnRyYWN0LlBpZW91dC5fX2FsZ29weV9lbnRyeXBvaW50X3dpdGhfaW5pdCgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIGludGNibG9jayAxIDAgMiAzMiA2MzY0MTM2MjIzODQ2NzkzMDA1IDE0NDI2OTUwNDA4ODg5NjM0MDcgNDI5NDk2NzI5NSA3NDA2MDAgNjU1MzUgVE1QTF9HRU5fVU5JWCBUTVBMX0RFTEVUQUJMRQogICAgYnl0ZWNibG9jayAweDAwICJzXyIgInBfIiAiZ2FtZV9pZCIgMHgxNTFmN2M3NSAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAgMHgwMDIwIDB4MDY4MTAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2FmdGVyX2lmX2Vsc2VAMTcKICAgIHB1c2hieXRlc3MgMHgxMzdkMTA5NCAweGI2NmQyZjU2IDB4ZWUwMzBkYjQgMHg3NDAxY2E4MyAweDViZTIxOWYwIDB4MTAyODc1ZTcgMHhkYTdiNjc4NSAweDcxYWY5NjZlIDB4YzJkNjhhZmYgMHgxYTc4OWVkMCAweDhlODU2ZjkyIDB4NWZmMTZkYTQgLy8gbWV0aG9kICJjYWxjX3NpbmdsZV9ib3hfZmVlKHVpbnQ4LHVpbnQxNil1aW50NjQiLCBtZXRob2QgInJlYWRfZ2VuX3VuaXgoKXVpbnQ2NCIsIG1ldGhvZCAicmVhZF9nYW1lX3N0YXRlKHVpbnQ2NCkodWludDY0LGJvb2wsdWludDgsdWludDgsdWludDgsdWludDE2LHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MpIiwgbWV0aG9kICJyZWFkX2dhbWVfcGxheWVycyh1aW50NjQpYWRkcmVzc1tdIiwgbWV0aG9kICJnZW5lcmF0ZSgpdm9pZCIsIG1ldGhvZCAicmVzZXRfZ2FtZSh1aW50NjQscGF5KXZvaWQiLCBtZXRob2QgIm5ld19nYW1lKHVpbnQ2NCxwYXkscGF5LHBheSl2b2lkIiwgbWV0aG9kICJqb2luX2dhbWUodWludDY0LHBheSl2b2lkIiwgbWV0aG9kICJjb21taXRfcmFuZCh1aW50NjQscGF5KXZvaWQiLCBtZXRob2QgInBsYXlfZ2FtZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiY2xhaW1fcHJpemVfcG9vbCh1aW50NjQpdm9pZCIsIG1ldGhvZCAidGVybWluYXRlKCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9jYWxjX3NpbmdsZV9ib3hfZmVlX3JvdXRlQDUgbWFpbl9yZWFkX2dlbl91bml4X3JvdXRlQDYgbWFpbl9yZWFkX2dhbWVfc3RhdGVfcm91dGVANyBtYWluX3JlYWRfZ2FtZV9wbGF5ZXJzX3JvdXRlQDggbWFpbl9nZW5lcmF0ZV9yb3V0ZUA5IG1haW5fcmVzZXRfZ2FtZV9yb3V0ZUAxMCBtYWluX25ld19nYW1lX3JvdXRlQDExIG1haW5fam9pbl9nYW1lX3JvdXRlQDEyIG1haW5fY29tbWl0X3JhbmRfcm91dGVAMTMgbWFpbl9wbGF5X2dhbWVfcm91dGVAMTQgbWFpbl9jbGFpbV9wcml6ZV9wb29sX3JvdXRlQDE1IG1haW5fdGVybWluYXRlX3JvdXRlQDE2CgptYWluX2FmdGVyX2lmX2Vsc2VAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIGludGNfMSAvLyAwCiAgICByZXR1cm4KCm1haW5fdGVybWluYXRlX3JvdXRlQDE2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2MzktNjQwCiAgICAvLyAjIEFsbG93IGFwcGxpY2F0aW9uIGNyZWF0b3IgdG8gZGVsZXRlIHRoZSBzbWFydCBjb250cmFjdCBjbGllbnQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChhbGxvd19hY3Rpb25zPVsiRGVsZXRlQXBwbGljYXRpb24iXSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgdGVybWluYXRlCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2NsYWltX3ByaXplX3Bvb2xfcm91dGVAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjMzMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjgKICAgIC8vIGNsYXNzIFBpZW91dChBUkM0Q29udHJhY3QpOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTozMzEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgY2FsbHN1YiBjbGFpbV9wcml6ZV9wb29sCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX3BsYXlfZ2FtZV9yb3V0ZUAxNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6Mjc1CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyOAogICAgLy8gY2xhc3MgUGllb3V0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI3NQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBjYWxsc3ViIHBsYXlfZ2FtZQogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9jb21taXRfcmFuZF9yb3V0ZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjM3CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyOAogICAgLy8gY2xhc3MgUGllb3V0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjM3CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGNhbGxzdWIgY29tbWl0X3JhbmQKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fam9pbl9nYW1lX3JvdXRlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxODUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxODUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgY2FsbHN1YiBqb2luX2dhbWUKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fbmV3X2dhbWVfcm91dGVAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEzNwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjgKICAgIC8vIGNsYXNzIFBpZW91dChBUkM0Q29udHJhY3QpOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuIEdyb3VwSW5kZXgKICAgIHB1c2hpbnQgMyAvLyAzCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18yIC8vIDIKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMzcKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgY2FsbHN1YiBuZXdfZ2FtZQogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9yZXNldF9nYW1lX3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMDYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMDYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgY2FsbHN1YiByZXNldF9nYW1lCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2dlbmVyYXRlX3JvdXRlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5Ojk0LTk1CiAgICAvLyAjIEdlbmVyYXRlIHRoZSBzbWFydCBjb250cmFjdCBhcHBsaWNhdGlvbiBjbGllbnQgd2l0aCBkZWZhdWx0IHZhbHVlcwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGNyZWF0ZT0icmVxdWlyZSIpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgIQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBjcmVhdGluZwogICAgY2FsbHN1YiBnZW5lcmF0ZQogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9yZWFkX2dhbWVfcGxheWVyc19yb3V0ZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo3OS04MAogICAgLy8gIyBSZWFkIHRoZSBzbWFydCBjb250cmFjdCBhcHBsaWNhdGlvbiBnYW1lIHBsYXllcnMgYm94IGZvciBnaXZlbiBnYW1lIGlkCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyOAogICAgLy8gY2xhc3MgUGllb3V0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5Ojc5LTgwCiAgICAvLyAjIFJlYWQgdGhlIHNtYXJ0IGNvbnRyYWN0IGFwcGxpY2F0aW9uIGdhbWUgcGxheWVycyBib3ggZm9yIGdpdmVuIGdhbWUgaWQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgY2FsbHN1YiByZWFkX2dhbWVfcGxheWVycwogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9yZWFkX2dhbWVfc3RhdGVfcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NjAtNjEKICAgIC8vICMgUmVhZCB0aGUgc21hcnQgY29udHJhY3QgYXBwbGljYXRpb24gZ2FtZSBzdGF0ZSBib3ggZm9yIGdpdmVuIGdhbWUgaWQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NjAtNjEKICAgIC8vICMgUmVhZCB0aGUgc21hcnQgY29udHJhY3QgYXBwbGljYXRpb24gZ2FtZSBzdGF0ZSBib3ggZm9yIGdpdmVuIGdhbWUgaWQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgY2FsbHN1YiByZWFkX2dhbWVfc3RhdGUKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fcmVhZF9nZW5fdW5peF9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo1NS01NgogICAgLy8gIyBSZWFkIHRoZSBzbWFydCBjb250cmFjdCBhcHBsaWNhdGlvbiBnZW5lc2lzIHRpbWVzdGFtcCBpbiBVbml4IGZvcm1hdAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NTgKICAgIC8vIHJldHVybiBUZW1wbGF0ZVZhcltVSW50NjRdKCJHRU5fVU5JWCIpCiAgICBpbnRjIDkgLy8gVE1QTF9HRU5fVU5JWAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo1NS01NgogICAgLy8gIyBSZWFkIHRoZSBzbWFydCBjb250cmFjdCBhcHBsaWNhdGlvbiBnZW5lc2lzIHRpbWVzdGFtcCBpbiBVbml4IGZvcm1hdAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBpdG9iCiAgICBieXRlYyA0IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2NhbGNfc2luZ2xlX2JveF9mZWVfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NDAtNDEKICAgIC8vICMgQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgKE1CUikgZmVlIGZvciBkYXRhIHN0b3JhZ2UgaW4gYSBzaW5nbGUgYm94IHVuaXQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4CiAgICAvLyBjbGFzcyBQaWVvdXQoQVJDNENvbnRyYWN0KToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NDAtNDEKICAgIC8vICMgQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIGJhbGFuY2UgcmVxdWlyZW1lbnQgKE1CUikgZmVlIGZvciBkYXRhIHN0b3JhZ2UgaW4gYSBzaW5nbGUgYm94IHVuaXQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgY2FsbHN1YiBjYWxjX3NpbmdsZV9ib3hfZmVlCiAgICBpdG9iCiAgICBieXRlYyA0IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5zdWJyb3V0aW5lcy5jaGVja19zZW5kZXJfaW5fZ2FtZShnYW1lX2lkOiB1aW50NjQsIGJveF9nYW1lX3BsYXllcnM6IGJ5dGVzLCBwbGF5ZXJfY291bnQ6IHVpbnQ2NCwgY2xlYXJfcGxheWVyOiB1aW50NjQpIC0+IHVpbnQ2NDoKY2hlY2tfc2VuZGVyX2luX2dhbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjktMTUKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgY2hlY2tfc2VuZGVyX2luX2dhbWUoCiAgICAvLyAgICAgZ2FtZV9pZDogVUludDY0LAogICAgLy8gICAgIGJveF9nYW1lX3BsYXllcnM6IEJveE1hcFtVSW50NjQsIEJ5dGVzXSwKICAgIC8vICAgICBwbGF5ZXJfY291bnQ6IFVJbnQ2NCwKICAgIC8vICAgICBjbGVhcl9wbGF5ZXI6IGJvb2wsICAjIG5vcWE6IEZCVDAwMQogICAgLy8gKSAtPiBib29sOgogICAgcHJvdG8gNCAxCiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MTYtMTcKICAgIC8vICMgUmV0cmlldmUgY3VycmVudCBwbGF5ZXJzIGFkZHJlc3NlcyBmcm9tIGJveCB1c2luZyB0aGUgZ2FtZSBpZCBwYXJhbWV0ZXIKICAgIC8vIGdhbWVfcGxheWVycyA9IGJveF9nYW1lX3BsYXllcnNbZ2FtZV9pZF0KICAgIGZyYW1lX2RpZyAtNAogICAgaXRvYgogICAgZnJhbWVfZGlnIC0zCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIEJveE1hcCBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MTkKICAgIC8vIGdhbWVfcGxheWVyc19sZW5ndGggPSBwbGF5ZXJfY291bnQgKiBjc3QuQUREUkVTU19TSVpFCiAgICBmcmFtZV9kaWcgLTIKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weToyMS0yMgogICAgLy8gIyBDaGVjayBpZiB0cmFuc2FjdGlvbiBzZW5kZXIgaXMgYSByZWNvZ25pemVkIHBsYXllciBvZiB0aGlzIGdhbWUgaW5zdGFuY2UKICAgIC8vIHR4bl9zZW5kZXJfaW5fZ2FtZSA9IEZhbHNlICAjIEZsYWcgdG8gdHJhY2sgaWYgc2VuZGVyIGlzIGFscmVhZHkgaW4gZ2FtZQogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MjQtMjUKICAgIC8vICMgSXRlcmF0ZSB0aHJvdWdoIHRoZSBwbGF5ZXJzIGJveCB2YWx1ZSwgMzIgYnl0ZXMgYXQgYSB0aW1lLCBpbiBvcmRlciB0byBhY2Nlc3MgZWFjaCBwbGF5ZXIgYWRkcmVzcwogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDAsIGdhbWVfcGxheWVyc19sZW5ndGgsIGNzdC5BRERSRVNTX1NJWkUpOgogICAgZHVwCgpjaGVja19zZW5kZXJfaW5fZ2FtZV9mb3JfaGVhZGVyQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjI0LTI1CiAgICAvLyAjIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcGxheWVycyBib3ggdmFsdWUsIDMyIGJ5dGVzIGF0IGEgdGltZSwgaW4gb3JkZXIgdG8gYWNjZXNzIGVhY2ggcGxheWVyIGFkZHJlc3MKICAgIC8vIGZvciBpIGluIHVyYW5nZSgwLCBnYW1lX3BsYXllcnNfbGVuZ3RoLCBjc3QuQUREUkVTU19TSVpFKToKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9kaWcgMwogICAgPAogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2J1cnkgMAogICAgYnogY2hlY2tfc2VuZGVyX2luX2dhbWVfYWZ0ZXJfZm9yQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MjYtMjcKICAgIC8vICMgRnJvbSBwbGF5ZXJzIGJveCB2YWx1ZSBieXRlIGFycmF5LCBzdGFydGluZyBhdCBwb3NpdGlvbiBpLCBleHRyYWN0IDMyIGJ5dGVzCiAgICAvLyBwbGF5ZXJfYWRkcl9ieXRlcyA9IG9wLmV4dHJhY3QoZ2FtZV9wbGF5ZXJzLCBpLCBjc3QuQUREUkVTU19TSVpFKQogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyA1CiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjI5LTMwCiAgICAvLyAjIElmIG1hdGNoIGJldHdlZW4gc2VuZGVyIGFkZHJlc3MgYnl0ZXMgYW5kIHBsYXllciBhZGRyZXNzIGJ5dGVzIGV4aXN0cwogICAgLy8gaWYgVHhuLnNlbmRlci5ieXRlcyA9PSBwbGF5ZXJfYWRkcl9ieXRlczoKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBieiBjaGVja19zZW5kZXJfaW5fZ2FtZV9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MzEKICAgIC8vIHR4bl9zZW5kZXJfaW5fZ2FtZSA9IFRydWUgICMgU2VuZGVyIGlzIGFscmVhZHkgaW4gZ2FtZQogICAgaW50Y18wIC8vIDEKICAgIGZyYW1lX2J1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTozMy0zNAogICAgLy8gIyBSZXBsYWNlIHRoZSBwbGF5ZXIgYWRkcmVzcyBieXRlcyBkYXRhIHdpdGggMzIgemVyb2VkIGJ5dGVzIGF0IHBvc2l0aW9uIGkKICAgIC8vIGlmIGNsZWFyX3BsYXllcjoKICAgIGZyYW1lX2RpZyAtMQogICAgYnogY2hlY2tfc2VuZGVyX2luX2dhbWVfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjM2CiAgICAvLyBwbGF5ZXJzX3JlZi5yZXBsYWNlKGksIGNzdC5aRVJPX0FERFJfQllURVMpCiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIDUKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBib3hfcmVwbGFjZQoKY2hlY2tfc2VuZGVyX2luX2dhbWVfYWZ0ZXJfaWZfZWxzZUA1OgogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2J1cnkgMAoKY2hlY2tfc2VuZGVyX2luX2dhbWVfYWZ0ZXJfZm9yQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjQwCiAgICAvLyByZXR1cm4gdHhuX3NlbmRlcl9pbl9nYW1lCiAgICByZXRzdWIKCmNoZWNrX3NlbmRlcl9pbl9nYW1lX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6MjQtMjUKICAgIC8vICMgSXRlcmF0ZSB0aHJvdWdoIHRoZSBwbGF5ZXJzIGJveCB2YWx1ZSwgMzIgYnl0ZXMgYXQgYSB0aW1lLCBpbiBvcmRlciB0byBhY2Nlc3MgZWFjaCBwbGF5ZXIgYWRkcmVzcwogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDAsIGdhbWVfcGxheWVyc19sZW5ndGgsIGNzdC5BRERSRVNTX1NJWkUpOgogICAgZnJhbWVfZGlnIDUKICAgIGludGNfMyAvLyAzMgogICAgKwogICAgZnJhbWVfYnVyeSA1CiAgICBiIGNoZWNrX3NlbmRlcl9pbl9nYW1lX2Zvcl9oZWFkZXJAMQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5waWVvdXQuY29udHJhY3QuUGllb3V0LmNhbGNfc2luZ2xlX2JveF9mZWUoa2V5X3NpemU6IGJ5dGVzLCB2YWx1ZV9zaXplOiBieXRlcykgLT4gdWludDY0OgpjYWxjX3NpbmdsZV9ib3hfZmVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo0MC00NAogICAgLy8gIyBDYWxjdWxhdGUgdGhlIG1pbmltdW0gYmFsYW5jZSByZXF1aXJlbWVudCAoTUJSKSBmZWUgZm9yIGRhdGEgc3RvcmFnZSBpbiBhIHNpbmdsZSBib3ggdW5pdAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICAvLyBkZWYgY2FsY19zaW5nbGVfYm94X2ZlZSgKICAgIC8vICAgICBzZWxmLCBrZXlfc2l6ZTogYXJjNC5VSW50OCwgdmFsdWVfc2l6ZTogYXJjNC5VSW50MTYKICAgIC8vICkgLT4gVUludDY0OgogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjQ5CiAgICAvLyBrZXlfc2l6ZS5uYXRpdmUgKyB2YWx1ZV9zaXplLm5hdGl2ZQogICAgZnJhbWVfZGlnIC0yCiAgICBidG9pCiAgICBmcmFtZV9kaWcgLTEKICAgIGJ0b2kKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NDgKICAgIC8vIHNpemVfZmVlID0gYXJjNC5VSW50MTYoNDAwKS5uYXRpdmUgKiAoCiAgICBwdXNoaW50IDQwMCAvLyA0MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NDgtNTAKICAgIC8vIHNpemVfZmVlID0gYXJjNC5VSW50MTYoNDAwKS5uYXRpdmUgKiAoCiAgICAvLyAgICAga2V5X3NpemUubmF0aXZlICsgdmFsdWVfc2l6ZS5uYXRpdmUKICAgIC8vICkgICMgU2l6ZSBmZWUgKDQwMCBwZXIgYnl0ZSAqIChsZW4oa2V5KStsZW4odmFsdWUpKSkKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NTItNTMKICAgIC8vICMgUmV0dXJuIHNpbmdsZSBib3ggZmVlCiAgICAvLyByZXR1cm4gYmFzZV9mZWUubmF0aXZlICsgc2l6ZV9mZWUKICAgIHB1c2hpbnQgMjUwMCAvLyAyNTAwCiAgICArCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMucGllb3V0LmNvbnRyYWN0LlBpZW91dC5yZWFkX2dhbWVfc3RhdGUoZ2FtZV9pZDogdWludDY0KSAtPiBieXRlczoKcmVhZF9nYW1lX3N0YXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2MC02MgogICAgLy8gIyBSZWFkIHRoZSBzbWFydCBjb250cmFjdCBhcHBsaWNhdGlvbiBnYW1lIHN0YXRlIGJveCBmb3IgZ2l2ZW4gZ2FtZSBpZAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICAvLyBkZWYgcmVhZF9nYW1lX3N0YXRlKHNlbGYsIGdhbWVfaWQ6IFVJbnQ2NCkgLT4gdGFhLkdhbWVTdGF0ZVR1cGxlOgogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjYzLTY0CiAgICAvLyAjIFJldHJpZXZlIGN1cnJlbnQgZ2FtZSBzdGF0ZSBmcm9tIGJveCB1c2luZyB0aGUgZ2FtZSBpZCBwYXJhbWV0ZXIKICAgIC8vIGdhbWVfc3RhdGUgPSBzZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLmNvcHkoKSAgIyBNYWtlIGEgY29weSBvZiB0aGUgZ2FtZSBzdGF0ZSBkYXRhIGVsc2UgaW1tdXRhYmxlCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gInNfIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYm94X2dhbWVfc3RhdGUgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjY5CiAgICAvLyBnYW1lX3N0YXRlLnN0YWtpbmdfZmluYWxpemVkLAogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo3MAogICAgLy8gZ2FtZV9zdGF0ZS5tYXhfcGxheWVycywKICAgIGRpZyAxCiAgICBleHRyYWN0IDEgMSAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NzEKICAgIC8vIGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMsCiAgICBkaWcgMgogICAgZXh0cmFjdCAyIDEgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjcyCiAgICAvLyBnYW1lX3N0YXRlLmhpZ2hfc2NvcmUsCiAgICBkaWcgMwogICAgZXh0cmFjdCAzIDEgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjczCiAgICAvLyBnYW1lX3N0YXRlLmJveF9wX3N0YXJ0X3BvcywKICAgIGRpZyA0CiAgICBleHRyYWN0IDQgMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NzQKICAgIC8vIGdhbWVfc3RhdGUucHJpemVfcG9vbCwKICAgIGRpZyA1CiAgICBleHRyYWN0IDYgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6NzUKICAgIC8vIGdhbWVfc3RhdGUubWFuYWdlcl9hZGRyZXNzLAogICAgZGlnIDYKICAgIGV4dHJhY3QgMTQgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5Ojc2CiAgICAvLyBnYW1lX3N0YXRlLndpbm5lcl9hZGRyZXNzLAogICAgdW5jb3ZlciA3CiAgICBleHRyYWN0IDQ2IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2Ni03NwogICAgLy8gIyBSZXR1cm4gdGhlIGdhbWUgc3RhdGUgYXMgYSB0dXBsZQogICAgLy8gcmV0dXJuIHRhYS5HYW1lU3RhdGVUdXBsZSgoCiAgICAvLyAgICAgYXJjNC5VSW50NjQoZ2FtZV9pZCksCiAgICAvLyAgICAgZ2FtZV9zdGF0ZS5zdGFraW5nX2ZpbmFsaXplZCwKICAgIC8vICAgICBnYW1lX3N0YXRlLm1heF9wbGF5ZXJzLAogICAgLy8gICAgIGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMsCiAgICAvLyAgICAgZ2FtZV9zdGF0ZS5oaWdoX3Njb3JlLAogICAgLy8gICAgIGdhbWVfc3RhdGUuYm94X3Bfc3RhcnRfcG9zLAogICAgLy8gICAgIGdhbWVfc3RhdGUucHJpemVfcG9vbCwKICAgIC8vICAgICBnYW1lX3N0YXRlLm1hbmFnZXJfYWRkcmVzcywKICAgIC8vICAgICBnYW1lX3N0YXRlLndpbm5lcl9hZGRyZXNzLAogICAgLy8gKSkKICAgIHVuY292ZXIgOAogICAgdW5jb3ZlciA4CiAgICBjb25jYXQKICAgIHVuY292ZXIgNwogICAgY29uY2F0CiAgICB1bmNvdmVyIDYKICAgIGNvbmNhdAogICAgdW5jb3ZlciA1CiAgICBjb25jYXQKICAgIHVuY292ZXIgNAogICAgY29uY2F0CiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5jb250cmFjdC5QaWVvdXQucmVhZF9nYW1lX3BsYXllcnMoZ2FtZV9pZDogdWludDY0KSAtPiBieXRlczoKcmVhZF9nYW1lX3BsYXllcnM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5Ojc5LTgxCiAgICAvLyAjIFJlYWQgdGhlIHNtYXJ0IGNvbnRyYWN0IGFwcGxpY2F0aW9uIGdhbWUgcGxheWVycyBib3ggZm9yIGdpdmVuIGdhbWUgaWQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgLy8gZGVmIHJlYWRfZ2FtZV9wbGF5ZXJzKHNlbGYsIGdhbWVfaWQ6IFVJbnQ2NCkgLT4gdGFhLkdhbWVQbGF5ZXJzQXJyOgogICAgcHJvdG8gMSAxCiAgICBpbnRjXzEgLy8gMAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjgyLTgzCiAgICAvLyAjIFJldHJpZXZlIGN1cnJlbnQgZ2FtZSBwbGF5ZXJzIGZyb20gYm94IHVzaW5nIHRoZSBnYW1lIGlkIHBhcmFtZXRlcgogICAgLy8gZ2FtZV9wbGF5ZXJzID0gc2VsZi5ib3hfZ2FtZV9wbGF5ZXJzW2dhbWVfaWRdCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJ5dGVjXzIgLy8gInBfIgogICAgc3dhcAogICAgY29uY2F0CiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYm94X2dhbWVfcGxheWVycyBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6ODUKICAgIC8vIHBsYXllcnMgPSB0YWEuR2FtZVBsYXllcnNBcnIoKQogICAgcHVzaGJ5dGVzIDB4MDAwMAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo4NgogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDAsIGdhbWVfcGxheWVycy5sZW5ndGgsIGNzdC5BRERSRVNTX1NJWkUpOgogICAgbGVuCiAgICBpbnRjXzEgLy8gMAoKcmVhZF9nYW1lX3BsYXllcnNfZm9yX2hlYWRlckAxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo4NgogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDAsIGdhbWVfcGxheWVycy5sZW5ndGgsIGNzdC5BRERSRVNTX1NJWkUpOgogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2RpZyA0CiAgICA8CiAgICBieiByZWFkX2dhbWVfcGxheWVyc19hZnRlcl9mb3JANgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo4NwogICAgLy8gcGxheWVyX2FkZHJfYnl0ZXMgPSBvcC5leHRyYWN0KGdhbWVfcGxheWVycywgaSwgY3N0LkFERFJFU1NfU0laRSkKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6ODgKICAgIC8vIGlmIHBsYXllcl9hZGRyX2J5dGVzICE9IEJ5dGVzKGNzdC5aRVJPX0FERFJfQllURVMpOgogICAgYnl0ZWMgNSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgICE9CiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfYnVyeSAxCiAgICBieiByZWFkX2dhbWVfcGxheWVyc19hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6OTAKICAgIC8vIHBsYXllcnMuYXBwZW5kKGFyYzQuQWRkcmVzcyhwbGF5ZXJfYWNjb3VudCkpCiAgICBmcmFtZV9kaWcgMwogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAwCiAgICBjb25jYXQKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgIC8KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMQoKcmVhZF9nYW1lX3BsYXllcnNfYWZ0ZXJfaWZfZWxzZUA0OgogICAgZnJhbWVfZGlnIDEKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo4NgogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDAsIGdhbWVfcGxheWVycy5sZW5ndGgsIGNzdC5BRERSRVNTX1NJWkUpOgogICAgZnJhbWVfZGlnIDUKICAgIGludGNfMyAvLyAzMgogICAgKwogICAgZnJhbWVfYnVyeSA1CiAgICBiIHJlYWRfZ2FtZV9wbGF5ZXJzX2Zvcl9oZWFkZXJAMQoKcmVhZF9nYW1lX3BsYXllcnNfYWZ0ZXJfZm9yQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjkyCiAgICAvLyByZXR1cm4gcGxheWVycwogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5jb250cmFjdC5QaWVvdXQuZ2VuZXJhdGUoKSAtPiB2b2lkOgpnZW5lcmF0ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6OTktMTAwCiAgICAvLyAjIEZhaWwgdHJhbnNhY3Rpb24gdW5sZXNzIHRoZSBhc3NlcnRpb24gYmVsb3cgZXZhbHVhdGVzIFRydWUKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IEdsb2JhbC5jcmVhdG9yX2FkZHJlc3MsIGVyci5JTlZBTElEX0NSRUFUT1IKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBUcmFuc2FjdGlvbiBzZW5kZXIgYWRkcmVzcyBtdXN0IG1hdGNoIGFwcGxpY2F0aW9uIGNyZWF0b3IgYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTAyLTEwMwogICAgLy8gIyBBc3NpZ24gR2xvYmFsIFN0YXRlIHZhcmlhYmxlcyB3aXRoIHRoZWlyIGRlZmF1bHQgc3RhcnRpbmcgdmFsdWUKICAgIC8vIHNlbGYuZ2FtZV9pZCA9IFVJbnQ2NCgwKQogICAgYnl0ZWNfMyAvLyAiZ2FtZV9pZCIKICAgIGludGNfMSAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMDQKICAgIC8vIHNlbGYudnJmX2NvbW1pdF9pZCA9IFVJbnQ2NCgwKQogICAgcHVzaGJ5dGVzICJ2cmZfY29tbWl0X2lkIgogICAgaW50Y18xIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMucGllb3V0LmNvbnRyYWN0LlBpZW91dC5yZXNldF9nYW1lKGdhbWVfaWQ6IHVpbnQ2NCwgc3Rha2VfcGF5OiB1aW50NjQpIC0+IHZvaWQ6CnJlc2V0X2dhbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEwNi0xMTEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgLy8gZGVmIHJlc2V0X2dhbWUoCiAgICAvLyAgICAgc2VsZiwKICAgIC8vICAgICBnYW1lX2lkOiBVSW50NjQsCiAgICAvLyAgICAgc3Rha2VfcGF5OiBndHhuLlBheW1lbnRUcmFuc2FjdGlvbiwKICAgIC8vICkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMTItMTEzCiAgICAvLyAjIFJldHJpZXZlIGN1cnJlbnQgZ2FtZSBzdGF0ZSBmcm9tIGJveCB1c2luZyB0aGUgZ2FtZSBpZCBwYXJhbWV0ZXIKICAgIC8vIGdhbWVfc3RhdGUgPSBzZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLmNvcHkoKSAgIyBNYWtlIGEgY29weSBvZiB0aGUgZ2FtZSBzdGF0ZSBlbHNlIGltbXV0YWJsZQogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBieXRlY18xIC8vICJzXyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ib3hfZ2FtZV9zdGF0ZSBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTE1LTExNgogICAgLy8gIyBGYWlsIHRyYW5zYWN0aW9uIHVubGVzcyB0aGUgYXNzZXJ0aW9uIGJlbG93IGV2YWx1YXRlcyBUcnVlCiAgICAvLyBhc3NlcnQgZ2FtZV9pZCBpbiBzZWxmLmJveF9nYW1lX3N0YXRlLCBlcnIuSU5WQUxJRF9HQU1FX0lECiAgICBkaWcgMQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IGdhbWUgc3RhdGUgbm90IGZvdW5kLiBDaGVjayBpZiBHYW1lIElEIGlzIHZhbGlkLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMTcKICAgIC8vIGFzc2VydCBnYW1lX3N0YXRlLm1hbmFnZXJfYWRkcmVzcyA9PSBUeG4uc2VuZGVyLCBlcnIuSU5WQUxJRF9NQU5BR0VSCiAgICBkdXAKICAgIGV4dHJhY3QgMTQgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIFRyYW5zYWN0aW9uIHNlbmRlciBpcyBub3QgcmVjb2duaXplZCBhcyB2YWxpZCBtYW5hZ2VyIGFkZHJlc3MgZm9yIHRoaXMgZ2FtZS4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTE4CiAgICAvLyBhc3NlcnQgZ2FtZV9zdGF0ZS5zdGFraW5nX2ZpbmFsaXplZCA9PSBUcnVlLCBlcnIuU1RBS0lOR19GSU5BTCAgIyBub3FhOiBFNzEyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBHYW1lIHN0YXRlIHN0YWtpbmcgZmluYWxpemVkIHZhbHVlIG1pc3NtYXRjaC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTE5CiAgICAvLyBhc3NlcnQgc3Rha2VfcGF5LnNlbmRlciA9PSBUeG4uc2VuZGVyLCBlcnIuSU5WQUxJRF9TVEFLRV9QQVlfU0VOREVSCiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIFNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBTdGFrZSBwYXltZW50IHNlbmRlciBhZGRyZXNzIG11c3QgbWF0Y2ggdHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEyMAogICAgLy8gYXNzZXJ0IHN0YWtlX3BheS5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLCBlcnIuSU5WQUxJRF9TVEFLRV9QQVlfUkVDSUVWRVIKICAgIGZyYW1lX2RpZyAtMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIFN0YWtlIHBheW1lbnQgcmVjaWV2ZXIgYWRkcmVzcyBtdXN0IG1hdGNoIGFwcGxpY2F0aW9uIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEyMQogICAgLy8gYXNzZXJ0IHN0YWtlX3BheS5hbW91bnQgPj0gY3N0LlNUQUtFX0FNT1VOVF9NQU5BR0VSLCBlcnIuSU5WQUxJRF9TVEFLRV9QQVlfRkVFCiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIEFtb3VudAogICAgaW50YyA3IC8vIDc0MDYwMAogICAgPj0KICAgIGFzc2VydCAvLyBJbnN1ZmZpY2llbnQgZnVuZHMuIFN0YWtlIHBheSBhbW91bnQgaXMgbm90IGVub3VnaCB0byBjb3ZlciBhcHBsaWNhdGlvbiBNQlIuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEyNQogICAgLy8gZ2FtZV9wbGF5ZXJzX3JlZi5yZXBsYWNlKDAsIFR4bi5zZW5kZXIuYnl0ZXMpCiAgICB0eG4gU2VuZGVyCiAgICBkaWcgMgogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTI3CiAgICAvLyBnYW1lX3N0YXRlLnN0YWtpbmdfZmluYWxpemVkID0gYXJjNC5Cb29sKEZhbHNlKSAgIyBub3FhOiBGQlQwMDMKICAgIGludGNfMSAvLyAwCiAgICBkdXAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMjgKICAgIC8vIGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMgPSBhcmM0LlVJbnQ4KDEpCiAgICBwdXNoYnl0ZXMgMHgwMQogICAgcmVwbGFjZTIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMjkKICAgIC8vIGdhbWVfc3RhdGUuaGlnaF9zY29yZSA9IGFyYzQuVUludDgoMCkKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgcmVwbGFjZTIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMzAKICAgIC8vIGdhbWVfc3RhdGUuYm94X3Bfc3RhcnRfcG9zID0gYXJjNC5VSW50MTYoY3N0LkFERFJFU1NfU0laRSkKICAgIGJ5dGVjIDYgLy8gMHgwMDIwCiAgICByZXBsYWNlMiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEzMQogICAgLy8gZ2FtZV9zdGF0ZS5wcml6ZV9wb29sID0gYXJjNC5VSW50NjQoY3N0LlNUQUtFX0FNT1VOVF9NQU5BR0VSKQogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDBiNGNmOAogICAgcmVwbGFjZTIgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxMzIKICAgIC8vIGdhbWVfc3RhdGUud2lubmVyX2FkZHJlc3MgPSBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9fYWRkcmVzcykKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgcmVwbGFjZTIgNDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTM0LTEzNQogICAgLy8gIyBDb3B5IHRoZSBtb2RpZmllZCBnYW1lIHN0YXRlIGFuZCBzdG9yZSBpdCBhcyBuZXcgdmFsdWUgb2YgYm94CiAgICAvLyBzZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdID0gZ2FtZV9zdGF0ZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5waWVvdXQuY29udHJhY3QuUGllb3V0Lm5ld19nYW1lKHRvdGFsX3BsYXllcnM6IHVpbnQ2NCwgYm94X3NfcGF5OiB1aW50NjQsIGJveF9wX3BheTogdWludDY0LCBzdGFrZV9wYXk6IHVpbnQ2NCkgLT4gdm9pZDoKbmV3X2dhbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjEzNy0xNDQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgLy8gZGVmIG5ld19nYW1lKAogICAgLy8gICAgIHNlbGYsCiAgICAvLyAgICAgdG90YWxfcGxheWVyczogVUludDY0LAogICAgLy8gICAgIGJveF9zX3BheTogZ3R4bi5QYXltZW50VHJhbnNhY3Rpb24sCiAgICAvLyAgICAgYm94X3BfcGF5OiBndHhuLlBheW1lbnRUcmFuc2FjdGlvbiwKICAgIC8vICAgICBzdGFrZV9wYXk6IGd0eG4uUGF5bWVudFRyYW5zYWN0aW9uLAogICAgLy8gKSAtPiBOb25lOgogICAgcHJvdG8gNCAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE0NS0xNDYKICAgIC8vICMgRmFpbCB0cmFuc2FjdGlvbiB1bmxlc3MgdGhlIGFzc2VydGlvbiBiZWxvdyBldmFsdWF0ZXMgVHJ1ZQogICAgLy8gYXNzZXJ0IHRvdGFsX3BsYXllcnMgPD0gY3N0LlBMQVlFUl9DQVAsIGVyci5QTEFZRVJfQ0FQX09WRVJGTE9XCiAgICBmcmFtZV9kaWcgLTQKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIDw9CiAgICBhc3NlcnQgLy8gUGxheWVyIGNhcCBvdmVyZmxvdy4gTWF4IHBsYXllcnMgbGltaXQgbXVzdCBub3QgYmUgZXhjZWVkZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE0OAogICAgLy8gYXNzZXJ0IGJveF9zX3BheS5zZW5kZXIgPT0gVHhuLnNlbmRlciwgZXJyLklOVkFMSURfQk9YX1BBWV9TRU5ERVIKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIEJveCBwYXltZW50IHNlbmRlciBhZGRyZXNzIG11c3QgbWF0Y2ggdHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE0OQogICAgLy8gYXNzZXJ0IGJveF9wX3BheS5zZW5kZXIgPT0gVHhuLnNlbmRlciwgZXJyLklOVkFMSURfQk9YX1BBWV9TRU5ERVIKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIEJveCBwYXltZW50IHNlbmRlciBhZGRyZXNzIG11c3QgbWF0Y2ggdHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE1MAogICAgLy8gYXNzZXJ0IHN0YWtlX3BheS5zZW5kZXIgPT0gVHhuLnNlbmRlciwgZXJyLklOVkFMSURfU1RBS0VfUEFZX1NFTkRFUgogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBTZW5kZXIKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gU3Rha2UgcGF5bWVudCBzZW5kZXIgYWRkcmVzcyBtdXN0IG1hdGNoIHRyYW5zYWN0aW9uIHNlbmRlciBhZGRyZXNzLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNTIKICAgIC8vIGFzc2VydCBib3hfc19wYXkucmVjZWl2ZXIgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywgZXJyLklOVkFMSURfQk9YX1BBWV9SRUNJRVZFUgogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gQm94IHBheW1lbnQgcmVjaWV2ZXIgYWRkcmVzcyBtdXN0IG1hdGNoIGFwcGxpY2F0aW9uIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE1MwogICAgLy8gYXNzZXJ0IGJveF9wX3BheS5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLCBlcnIuSU5WQUxJRF9CT1hfUEFZX1JFQ0lFVkVSCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBCb3ggcGF5bWVudCByZWNpZXZlciBhZGRyZXNzIG11c3QgbWF0Y2ggYXBwbGljYXRpb24gYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTU0CiAgICAvLyBhc3NlcnQgc3Rha2VfcGF5LnJlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsIGVyci5JTlZBTElEX1NUQUtFX1BBWV9SRUNJRVZFUgogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gU3Rha2UgcGF5bWVudCByZWNpZXZlciBhZGRyZXNzIG11c3QgbWF0Y2ggYXBwbGljYXRpb24gYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTU2CiAgICAvLyBhc3NlcnQgYm94X3NfcGF5LmFtb3VudCA+PSBjc3QuQk9YX1NfRkVFLCBlcnIuSU5WQUxJRF9CT1hfUEFZX0ZFRQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBBbW91bnQKICAgIHB1c2hpbnQgMjQ5MDAgLy8gMjQ5MDAKICAgID49CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGZ1bmRzLiBCb3ggcGF5IGFtb3VudCBpcyBub3QgZW5vdWdoIHRvIGNvdmVyIGFwcGxpY2F0aW9uIE1CUi4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTU3CiAgICAvLyBhc3NlcnQgYm94X3BfcGF5LmFtb3VudCA+PSBzZWxmLmNhbGNfc2luZ2xlX2JveF9mZWUoCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNTkKICAgIC8vIHZhbHVlX3NpemU9YXJjNC5VSW50MTYoY3N0LkFERFJFU1NfU0laRSAqIHRvdGFsX3BsYXllcnMpCiAgICBpbnRjXzMgLy8gMzIKICAgIGZyYW1lX2RpZyAtNAogICAgKgogICAgZHVwCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTU4CiAgICAvLyBrZXlfc2l6ZT1hcmM0LlVJbnQ4KDEwKSwKICAgIHB1c2hieXRlcyAweDBhCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE1Ny0xNjAKICAgIC8vIGFzc2VydCBib3hfcF9wYXkuYW1vdW50ID49IHNlbGYuY2FsY19zaW5nbGVfYm94X2ZlZSgKICAgIC8vICAgICBrZXlfc2l6ZT1hcmM0LlVJbnQ4KDEwKSwKICAgIC8vICAgICB2YWx1ZV9zaXplPWFyYzQuVUludDE2KGNzdC5BRERSRVNTX1NJWkUgKiB0b3RhbF9wbGF5ZXJzKQogICAgLy8gKSwgZXJyLklOVkFMSURfQk9YX1BBWV9GRUUKICAgIHN3YXAKICAgIGNhbGxzdWIgY2FsY19zaW5nbGVfYm94X2ZlZQogICAgdW5jb3ZlciAyCiAgICA8PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBmdW5kcy4gQm94IHBheSBhbW91bnQgaXMgbm90IGVub3VnaCB0byBjb3ZlciBhcHBsaWNhdGlvbiBNQlIuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE2MQogICAgLy8gYXNzZXJ0IHN0YWtlX3BheS5hbW91bnQgPj0gY3N0LlNUQUtFX0FNT1VOVF9NQU5BR0VSLCBlcnIuSU5WQUxJRF9TVEFLRV9QQVlfRkVFCiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIEFtb3VudAogICAgZHVwCiAgICBpbnRjIDcgLy8gNzQwNjAwCiAgICA+PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBmdW5kcy4gU3Rha2UgcGF5IGFtb3VudCBpcyBub3QgZW5vdWdoIHRvIGNvdmVyIGFwcGxpY2F0aW9uIE1CUi4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTY2CiAgICAvLyBtYXhfcGxheWVycz1hcmM0LlVJbnQ4KHRvdGFsX3BsYXllcnMpLAogICAgZnJhbWVfZGlnIC00CiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE3MAogICAgLy8gcHJpemVfcG9vbD1hcmM0LlVJbnQ2NChzdGFrZV9wYXkuYW1vdW50KSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTcxCiAgICAvLyBtYW5hZ2VyX2FkZHJlc3M9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNzIKICAgIC8vIHdpbm5lcl9hZGRyZXNzPWFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb19hZGRyZXNzKSwKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNjUKICAgIC8vIHN0YWtpbmdfZmluYWxpemVkPWFyYzQuQm9vbChGYWxzZSksICAjIG5vcWE6IEZCVDAwMwogICAgYnl0ZWNfMCAvLyAweDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE2My0xNzMKICAgIC8vICMgSW5pdGlhbGl6ZSBuZXcgZ2FtZSBzdGF0ZSBieSB3cml0aW5nIHRoZSBkZWZhdWx0IHN0YXJ0aW5nIHZhbHVlcyBhbmQgc3RvcmUgdGhlbSBpbiBnYW1lIHN0YXRlIGJveAogICAgLy8gc2VsZi5ib3hfZ2FtZV9zdGF0ZVtzZWxmLmdhbWVfaWRdID0gc3RjLkdhbWVTdGF0ZSgKICAgIC8vICAgICBzdGFraW5nX2ZpbmFsaXplZD1hcmM0LkJvb2woRmFsc2UpLCAgIyBub3FhOiBGQlQwMDMKICAgIC8vICAgICBtYXhfcGxheWVycz1hcmM0LlVJbnQ4KHRvdGFsX3BsYXllcnMpLAogICAgLy8gICAgIGFjdGl2ZV9wbGF5ZXJzPWFyYzQuVUludDgoMSksCiAgICAvLyAgICAgaGlnaF9zY29yZT1hcmM0LlVJbnQ4KDApLAogICAgLy8gICAgIGJveF9wX3N0YXJ0X3Bvcz1hcmM0LlVJbnQxNihjc3QuQUREUkVTU19TSVpFKSwKICAgIC8vICAgICBwcml6ZV9wb29sPWFyYzQuVUludDY0KHN0YWtlX3BheS5hbW91bnQpLAogICAgLy8gICAgIG1hbmFnZXJfYWRkcmVzcz1hcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgICAgd2lubmVyX2FkZHJlc3M9YXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvX2FkZHJlc3MpLAogICAgLy8gKQogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTY3CiAgICAvLyBhY3RpdmVfcGxheWVycz1hcmM0LlVJbnQ4KDEpLAogICAgcHVzaGJ5dGVzIDB4MDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTYzLTE3MwogICAgLy8gIyBJbml0aWFsaXplIG5ldyBnYW1lIHN0YXRlIGJ5IHdyaXRpbmcgdGhlIGRlZmF1bHQgc3RhcnRpbmcgdmFsdWVzIGFuZCBzdG9yZSB0aGVtIGluIGdhbWUgc3RhdGUgYm94CiAgICAvLyBzZWxmLmJveF9nYW1lX3N0YXRlW3NlbGYuZ2FtZV9pZF0gPSBzdGMuR2FtZVN0YXRlKAogICAgLy8gICAgIHN0YWtpbmdfZmluYWxpemVkPWFyYzQuQm9vbChGYWxzZSksICAjIG5vcWE6IEZCVDAwMwogICAgLy8gICAgIG1heF9wbGF5ZXJzPWFyYzQuVUludDgodG90YWxfcGxheWVycyksCiAgICAvLyAgICAgYWN0aXZlX3BsYXllcnM9YXJjNC5VSW50OCgxKSwKICAgIC8vICAgICBoaWdoX3Njb3JlPWFyYzQuVUludDgoMCksCiAgICAvLyAgICAgYm94X3Bfc3RhcnRfcG9zPWFyYzQuVUludDE2KGNzdC5BRERSRVNTX1NJWkUpLAogICAgLy8gICAgIHByaXplX3Bvb2w9YXJjNC5VSW50NjQoc3Rha2VfcGF5LmFtb3VudCksCiAgICAvLyAgICAgbWFuYWdlcl9hZGRyZXNzPWFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgICB3aW5uZXJfYWRkcmVzcz1hcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9fYWRkcmVzcyksCiAgICAvLyApCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTY4CiAgICAvLyBoaWdoX3Njb3JlPWFyYzQuVUludDgoMCksCiAgICBieXRlY18wIC8vIDB4MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTYzLTE3MwogICAgLy8gIyBJbml0aWFsaXplIG5ldyBnYW1lIHN0YXRlIGJ5IHdyaXRpbmcgdGhlIGRlZmF1bHQgc3RhcnRpbmcgdmFsdWVzIGFuZCBzdG9yZSB0aGVtIGluIGdhbWUgc3RhdGUgYm94CiAgICAvLyBzZWxmLmJveF9nYW1lX3N0YXRlW3NlbGYuZ2FtZV9pZF0gPSBzdGMuR2FtZVN0YXRlKAogICAgLy8gICAgIHN0YWtpbmdfZmluYWxpemVkPWFyYzQuQm9vbChGYWxzZSksICAjIG5vcWE6IEZCVDAwMwogICAgLy8gICAgIG1heF9wbGF5ZXJzPWFyYzQuVUludDgodG90YWxfcGxheWVycyksCiAgICAvLyAgICAgYWN0aXZlX3BsYXllcnM9YXJjNC5VSW50OCgxKSwKICAgIC8vICAgICBoaWdoX3Njb3JlPWFyYzQuVUludDgoMCksCiAgICAvLyAgICAgYm94X3Bfc3RhcnRfcG9zPWFyYzQuVUludDE2KGNzdC5BRERSRVNTX1NJWkUpLAogICAgLy8gICAgIHByaXplX3Bvb2w9YXJjNC5VSW50NjQoc3Rha2VfcGF5LmFtb3VudCksCiAgICAvLyAgICAgbWFuYWdlcl9hZGRyZXNzPWFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgICB3aW5uZXJfYWRkcmVzcz1hcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9fYWRkcmVzcyksCiAgICAvLyApCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTY5CiAgICAvLyBib3hfcF9zdGFydF9wb3M9YXJjNC5VSW50MTYoY3N0LkFERFJFU1NfU0laRSksCiAgICBieXRlYyA2IC8vIDB4MDAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNjMtMTczCiAgICAvLyAjIEluaXRpYWxpemUgbmV3IGdhbWUgc3RhdGUgYnkgd3JpdGluZyB0aGUgZGVmYXVsdCBzdGFydGluZyB2YWx1ZXMgYW5kIHN0b3JlIHRoZW0gaW4gZ2FtZSBzdGF0ZSBib3gKICAgIC8vIHNlbGYuYm94X2dhbWVfc3RhdGVbc2VsZi5nYW1lX2lkXSA9IHN0Yy5HYW1lU3RhdGUoCiAgICAvLyAgICAgc3Rha2luZ19maW5hbGl6ZWQ9YXJjNC5Cb29sKEZhbHNlKSwgICMgbm9xYTogRkJUMDAzCiAgICAvLyAgICAgbWF4X3BsYXllcnM9YXJjNC5VSW50OCh0b3RhbF9wbGF5ZXJzKSwKICAgIC8vICAgICBhY3RpdmVfcGxheWVycz1hcmM0LlVJbnQ4KDEpLAogICAgLy8gICAgIGhpZ2hfc2NvcmU9YXJjNC5VSW50OCgwKSwKICAgIC8vICAgICBib3hfcF9zdGFydF9wb3M9YXJjNC5VSW50MTYoY3N0LkFERFJFU1NfU0laRSksCiAgICAvLyAgICAgcHJpemVfcG9vbD1hcmM0LlVJbnQ2NChzdGFrZV9wYXkuYW1vdW50KSwKICAgIC8vICAgICBtYW5hZ2VyX2FkZHJlc3M9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgIHdpbm5lcl9hZGRyZXNzPWFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb19hZGRyZXNzKSwKICAgIC8vICkKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTYzLTE2NAogICAgLy8gIyBJbml0aWFsaXplIG5ldyBnYW1lIHN0YXRlIGJ5IHdyaXRpbmcgdGhlIGRlZmF1bHQgc3RhcnRpbmcgdmFsdWVzIGFuZCBzdG9yZSB0aGVtIGluIGdhbWUgc3RhdGUgYm94CiAgICAvLyBzZWxmLmJveF9nYW1lX3N0YXRlW3NlbGYuZ2FtZV9pZF0gPSBzdGMuR2FtZVN0YXRlKAogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjXzMgLy8gImdhbWVfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZ2FtZV9pZCBleGlzdHMKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gInNfIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE2My0xNzMKICAgIC8vICMgSW5pdGlhbGl6ZSBuZXcgZ2FtZSBzdGF0ZSBieSB3cml0aW5nIHRoZSBkZWZhdWx0IHN0YXJ0aW5nIHZhbHVlcyBhbmQgc3RvcmUgdGhlbSBpbiBnYW1lIHN0YXRlIGJveAogICAgLy8gc2VsZi5ib3hfZ2FtZV9zdGF0ZVtzZWxmLmdhbWVfaWRdID0gc3RjLkdhbWVTdGF0ZSgKICAgIC8vICAgICBzdGFraW5nX2ZpbmFsaXplZD1hcmM0LkJvb2woRmFsc2UpLCAgIyBub3FhOiBGQlQwMDMKICAgIC8vICAgICBtYXhfcGxheWVycz1hcmM0LlVJbnQ4KHRvdGFsX3BsYXllcnMpLAogICAgLy8gICAgIGFjdGl2ZV9wbGF5ZXJzPWFyYzQuVUludDgoMSksCiAgICAvLyAgICAgaGlnaF9zY29yZT1hcmM0LlVJbnQ4KDApLAogICAgLy8gICAgIGJveF9wX3N0YXJ0X3Bvcz1hcmM0LlVJbnQxNihjc3QuQUREUkVTU19TSVpFKSwKICAgIC8vICAgICBwcml6ZV9wb29sPWFyYzQuVUludDY0KHN0YWtlX3BheS5hbW91bnQpLAogICAgLy8gICAgIG1hbmFnZXJfYWRkcmVzcz1hcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgICAgd2lubmVyX2FkZHJlc3M9YXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvX2FkZHJlc3MpLAogICAgLy8gKQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxNzUtMTc2CiAgICAvLyAjIEluaXRpYWxpemUgYm94IHdpdGggemVyb2VkIGJ5dGVzIHRvIHN0b3JlIGFsbCBwbGF5ZXIgYWRkcmVzc2VzICgzMiBieXRlcyBwZXIgcGxheWVyKQogICAgLy8gc2VsZi5ib3hfZ2FtZV9wbGF5ZXJzW3NlbGYuZ2FtZV9pZF0gPSBvcC5iemVybyhjc3QuQUREUkVTU19TSVpFICogdG90YWxfcGxheWVycykKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18zIC8vICJnYW1lX2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmdhbWVfaWQgZXhpc3RzCiAgICBpdG9iCiAgICBieXRlY18yIC8vICJwXyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnplcm8KICAgIGRpZyAxCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTc4LTE3OQogICAgLy8gIyBGb3IgZ2FtZSBwbGF5ZXJzIGJveCwgcmVwbGFjZSB0aGUgc2VuZGVyJ3MgYWRkcmVzcyBhdCBpbmRleCAwCiAgICAvLyBnYW1lX3BsYXllcnNfcmVmID0gQm94UmVmKGtleT1zZWxmLmJveF9nYW1lX3BsYXllcnMua2V5X3ByZWZpeCArIG9wLml0b2Ioc2VsZi5nYW1lX2lkKSkKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18zIC8vICJnYW1lX2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmdhbWVfaWQgZXhpc3RzCiAgICBpdG9iCiAgICBieXRlY18yIC8vICJwXyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxODAKICAgIC8vIGdhbWVfcGxheWVyc19yZWYucmVwbGFjZSgwLCBUeG4uc2VuZGVyLmJ5dGVzKQogICAgaW50Y18xIC8vIDAKICAgIHR4biBTZW5kZXIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE4Mi0xODMKICAgIC8vICMgSW5jcmVtZW50IGdhbWUgaWQgYnkgMSBmb3IgbmV4dCBuZXcgZ2FtZSBpbnN0YW5jZQogICAgLy8gc2VsZi5nYW1lX2lkICs9IDEKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18zIC8vICJnYW1lX2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmdhbWVfaWQgZXhpc3RzCiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgYnl0ZWNfMyAvLyAiZ2FtZV9pZCIKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMucGllb3V0LmNvbnRyYWN0LlBpZW91dC5qb2luX2dhbWUoZ2FtZV9pZDogdWludDY0LCBzdGFrZV9wYXk6IHVpbnQ2NCkgLT4gdm9pZDoKam9pbl9nYW1lOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxODUtMTkwCiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIC8vIGRlZiBqb2luX2dhbWUoCiAgICAvLyAgICAgc2VsZiwKICAgIC8vICAgICBnYW1lX2lkOiBVSW50NjQsCiAgICAvLyAgICAgc3Rha2VfcGF5OiBndHhuLlBheW1lbnRUcmFuc2FjdGlvbiwKICAgIC8vICkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxOTEtMTkyCiAgICAvLyAjIEZhaWwgdHJhbnNhY3Rpb24gdW5sZXNzIHRoZSBhc3NlcnRpb24gYmVsb3cgZXZhbHVhdGVzIFRydWUKICAgIC8vIGFzc2VydCBnYW1lX2lkIGluIHNlbGYuYm94X2dhbWVfc3RhdGUsIGVyci5JTlZBTElEX0dBTUVfSUQKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAic18iCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IGdhbWUgc3RhdGUgbm90IGZvdW5kLiBDaGVjayBpZiBHYW1lIElEIGlzIHZhbGlkLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToxOTQKICAgIC8vIGFzc2VydCBzdGFrZV9wYXkuc2VuZGVyID09IFR4bi5zZW5kZXIsIGVyci5JTlZBTElEX1NUQUtFX1BBWV9TRU5ERVIKICAgIGZyYW1lX2RpZyAtMQogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIFN0YWtlIHBheW1lbnQgc2VuZGVyIGFkZHJlc3MgbXVzdCBtYXRjaCB0cmFuc2FjdGlvbiBzZW5kZXIgYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTk1CiAgICAvLyBhc3NlcnQgc3Rha2VfcGF5LnJlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsIGVyci5JTlZBTElEX1NUQUtFX1BBWV9SRUNJRVZFUgogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gU3Rha2UgcGF5bWVudCByZWNpZXZlciBhZGRyZXNzIG11c3QgbWF0Y2ggYXBwbGljYXRpb24gYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MTk2CiAgICAvLyBhc3NlcnQgc3Rha2VfcGF5LmFtb3VudCA+PSBjc3QuU1RBS0VfQU1PVU5UX09USEVSLCBlcnIuSU5WQUxJRF9TVEFLRV9QQVlfRkVFCiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIEFtb3VudAogICAgZHVwCiAgICBwdXNoaW50IDEwMDAwMDAgLy8gMTAwMDAwMAogICAgPj0KICAgIGFzc2VydCAvLyBJbnN1ZmZpY2llbnQgZnVuZHMuIFN0YWtlIHBheSBhbW91bnQgaXMgbm90IGVub3VnaCB0byBjb3ZlciBhcHBsaWNhdGlvbiBNQlIuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjE5OC0xOTkKICAgIC8vICMgUmV0cmlldmUgY3VycmVudCBnYW1lIHN0YXRlIGZyb20gYm94IHVzaW5nIHRoZSBnYW1lIGlkIHBhcmFtZXRlcgogICAgLy8gZ2FtZV9zdGF0ZSA9IHNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0uY29weSgpICAjIE1ha2UgYSBjb3B5IG9mIHRoZSBnYW1lIHN0YXRlIGVsc2UgaW1tdXRhYmxlCiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYm94X2dhbWVfc3RhdGUgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIwNQogICAgLy8gcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0uYWN0aXZlX3BsYXllcnMubmF0aXZlLAogICAgdW5jb3ZlciAyCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ib3hfZ2FtZV9zdGF0ZSBlbnRyeSBleGlzdHMKICAgIGludGNfMiAvLyAyCiAgICBnZXRieXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIwMi0yMDcKICAgIC8vIHNydC5jaGVja19zZW5kZXJfaW5fZ2FtZSggICMgbm9xYTogRTcxMiwgUlVGMTAwCiAgICAvLyAgICAgZ2FtZV9pZD1nYW1lX2lkLAogICAgLy8gICAgIGJveF9nYW1lX3BsYXllcnM9c2VsZi5ib3hfZ2FtZV9wbGF5ZXJzLAogICAgLy8gICAgIHBsYXllcl9jb3VudD1zZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLmFjdGl2ZV9wbGF5ZXJzLm5hdGl2ZSwKICAgIC8vICAgICBjbGVhcl9wbGF5ZXI9RmFsc2UsCiAgICAvLyAgICAgKQogICAgZnJhbWVfZGlnIC0yCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIwNAogICAgLy8gYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICBieXRlY18yIC8vICJwXyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjAyLTIwNwogICAgLy8gc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0uYWN0aXZlX3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgIGNsZWFyX3BsYXllcj1GYWxzZSwKICAgIC8vICAgICApCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjA2CiAgICAvLyBjbGVhcl9wbGF5ZXI9RmFsc2UsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyMDItMjA3CiAgICAvLyBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5hY3RpdmVfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgY2xlYXJfcGxheWVyPUZhbHNlLAogICAgLy8gICAgICkKICAgIGNhbGxzdWIgY2hlY2tfc2VuZGVyX2luX2dhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjAyLTIwOAogICAgLy8gc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0uYWN0aXZlX3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgIGNsZWFyX3BsYXllcj1GYWxzZSwKICAgIC8vICAgICApCiAgICAvLyAgICAgPT0gRmFsc2UKICAgICEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjAxLTIwOQogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgICAgIGJveF9nYW1lX3BsYXllcnM9c2VsZi5ib3hfZ2FtZV9wbGF5ZXJzLAogICAgLy8gICAgICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5hY3RpdmVfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgICAgIGNsZWFyX3BsYXllcj1GYWxzZSwKICAgIC8vICAgICAgICAgKQogICAgLy8gICAgICAgICA9PSBGYWxzZQogICAgLy8gKSwgZXJyLlBMQVlFUl9BQ1RJVkUKICAgIGFzc2VydCAvLyBUcmFuc2FjdGlvbiBzZW5kZXIgaXMgYWxyZWFkeSByZWNvZ25pemVkIGFzIGEgdmFsaWQgcGxheWVyIGZvciB0aGlzIGdhbWUuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIxMQogICAgLy8gYXNzZXJ0IGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMgPD0gZ2FtZV9zdGF0ZS5tYXhfcGxheWVycywgZXJyLkZVTExfR0FNRV9MT0JCWQogICAgZHVwCiAgICBleHRyYWN0IDIgMSAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGRpZyAxCiAgICBleHRyYWN0IDEgMSAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGI8PQogICAgYXNzZXJ0IC8vIE51bWJlciBvZiBhY3RpdmUgcGxheWVycyBtdXN0IG5vdCBleGNlZWQgbnVtYmVyIG9mIG1heCBwbGF5ZXJzLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyMTIKICAgIC8vIGFzc2VydCBnYW1lX3N0YXRlLnN0YWtpbmdfZmluYWxpemVkID09IEZhbHNlLCBlcnIuU1RBS0lOR19GSU5BTCAgIyBub3FhOiBFNzEyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gR2FtZSBzdGF0ZSBzdGFraW5nIGZpbmFsaXplZCB2YWx1ZSBtaXNzbWF0Y2guCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIxNAogICAgLy8gZ2FtZV9zdGF0ZS5ib3hfcF9zdGFydF9wb3MubmF0aXZlIDwgY3N0LkFERFJFU1NfU0laRSAqIGdhbWVfc3RhdGUubWF4X3BsYXllcnMubmF0aXZlCiAgICBkdXAKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDEKICAgIGludGNfMCAvLyAxCiAgICBnZXRieXRlCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGRpZyAxCiAgICA+CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIxMy0yMTUKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgZ2FtZV9zdGF0ZS5ib3hfcF9zdGFydF9wb3MubmF0aXZlIDwgY3N0LkFERFJFU1NfU0laRSAqIGdhbWVfc3RhdGUubWF4X3BsYXllcnMubmF0aXZlCiAgICAvLyApLCBlcnIuQk9YX1BfU1RBUlRfUE9TX09WRVJGTE9XCiAgICBhc3NlcnQgLy8gUGxheWVycyBib3ggc3RhcnQgcG9zaXRpb24gaW5kZXggb3ZlcmZsb3cuIENhbiBub3Qgc3RvcmUgbW9yZSBhZGRyZXNzZXMuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIxNy0yMTgKICAgIC8vICMgRm9yIGdhbWUgcGxheWVycyBib3gsIHN0b3JlIHRoZSBzZW5kZXIncyBhZGRyZXNzIGF0IHRoZSBjdXJyZW50IGdhbWUgc3RhdGUgYm94IHBfIHBsYWNlbWVudCBwb3NpdGlvbgogICAgLy8gZ2FtZV9wbGF5ZXJzX3JlZiA9IEJveFJlZihrZXk9c2VsZi5ib3hfZ2FtZV9wbGF5ZXJzLmtleV9wcmVmaXggKyBvcC5pdG9iKGdhbWVfaWQpKQogICAgYnl0ZWNfMiAvLyAicF8iCiAgICB1bmNvdmVyIDQKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyMTkKICAgIC8vIGdhbWVfcGxheWVyc19yZWYucmVwbGFjZShnYW1lX3N0YXRlLmJveF9wX3N0YXJ0X3Bvcy5uYXRpdmUsIFR4bi5zZW5kZXIuYnl0ZXMpCiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyMjEtMjIyCiAgICAvLyAjIEluY3JlbWVudCBudW1iZXIgb2YgYWN0aXZlIHBsYXllcnMgYnkgMQogICAgLy8gZ2FtZV9zdGF0ZS5hY3RpdmVfcGxheWVycyA9IGFyYzQuVUludDgoZ2FtZV9zdGF0ZS5hY3RpdmVfcGxheWVycy5uYXRpdmUgKyAxKQogICAgZHVwCiAgICBpbnRjXzIgLy8gMgogICAgZ2V0Ynl0ZQogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIHJlcGxhY2UyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjI0LTIyNQogICAgLy8gIyBJbmNyZW1lbnQgY3VycmVudCBnYW1lIHBsYXllcnMgYm94IG9mZnNldCBieSAzMiBzbyB0aGF0IG5leHQgcGxheWVyIGFkZHJlc3MgY2FuIGJlIHN0b3JlZAogICAgLy8gZ2FtZV9zdGF0ZS5ib3hfcF9zdGFydF9wb3MgPSBhcmM0LlVJbnQxNihnYW1lX3N0YXRlLmJveF9wX3N0YXJ0X3Bvcy5uYXRpdmUgKyBjc3QuQUREUkVTU19TSVpFKQogICAgZHVwCiAgICBwdXNoaW50IDQgLy8gNAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMyAvLyAzMgogICAgKwogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIyNy0yMjgKICAgIC8vICMgSW5jcmVtZW50IHByaXplIHBvb2wgYnkgc3Rha2UgcGF5bWVudCBhbW91bnQKICAgIC8vIGdhbWVfc3RhdGUucHJpemVfcG9vbCA9IGFyYzQuVUludDY0KGdhbWVfc3RhdGUucHJpemVfcG9vbC5uYXRpdmUgKyBzdGFrZV9wYXkuYW1vdW50KQogICAgZHVwCiAgICBwdXNoaW50IDYgLy8gNgogICAgZXh0cmFjdF91aW50NjQKICAgIHVuY292ZXIgMgogICAgKwogICAgaXRvYgogICAgcmVwbGFjZTIgNgogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIzMC0yMzEKICAgIC8vICMgSWYgbnVtYmVyIG9mIGFjdGl2ZSBwbGF5ZXJzIGVxdWFscyBtYXggcGxheWVycwogICAgLy8gaWYgZ2FtZV9zdGF0ZS5hY3RpdmVfcGxheWVycyA9PSBnYW1lX3N0YXRlLm1heF9wbGF5ZXJzOgogICAgZXh0cmFjdCAyIDEgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgMQogICAgZXh0cmFjdCAxIDEgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBiPT0KICAgIGJ6IGpvaW5fZ2FtZV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjMyCiAgICAvLyBnYW1lX3N0YXRlLnN0YWtpbmdfZmluYWxpemVkID0gYXJjNC5Cb29sKFRydWUpICAjIEZpbmFsaXplIHN0YWtpbmcgICMgbm9xYTogRkJUMDAzCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDAKICAgIGludGNfMCAvLyAxCiAgICBzZXRiaXQKICAgIGZyYW1lX2J1cnkgMgoKam9pbl9nYW1lX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjM0LTIzNQogICAgLy8gIyBDb3B5IHRoZSBtb2RpZmllZCBnYW1lIHN0YXRlIGFuZCBzdG9yZSBpdCBhcyBuZXcgdmFsdWUgb2YgYm94CiAgICAvLyBzZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdID0gZ2FtZV9zdGF0ZS5jb3B5KCkKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgMgogICAgYm94X3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5jb250cmFjdC5QaWVvdXQuY29tbWl0X3JhbmQoZ2FtZV9pZDogdWludDY0LCBib3hfY19wYXk6IHVpbnQ2NCkgLT4gdm9pZDoKY29tbWl0X3JhbmQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjIzNy0yNDIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgLy8gZGVmIGNvbW1pdF9yYW5kKAogICAgLy8gICAgIHNlbGYsCiAgICAvLyAgICAgZ2FtZV9pZDogVUludDY0LAogICAgLy8gICAgIGJveF9jX3BheTogZ3R4bi5QYXltZW50VHJhbnNhY3Rpb24sCiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjQzLTI0NAogICAgLy8gIyBGYWlsIHRyYW5zYWN0aW9uIHVubGVzcyB0aGUgYXNzZXJ0aW9ucyBiZWxvdyBldmFsdWF0ZSBUcnVlCiAgICAvLyBhc3NlcnQgZ2FtZV9pZCBpbiBzZWxmLmJveF9nYW1lX3N0YXRlLCBlcnIuSU5WQUxJRF9HQU1FX0lECiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gInNfIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggZ2FtZSBzdGF0ZSBub3QgZm91bmQuIENoZWNrIGlmIEdhbWUgSUQgaXMgdmFsaWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI0NgogICAgLy8gYXNzZXJ0IGJveF9jX3BheS5zZW5kZXIgPT0gVHhuLnNlbmRlciwgZXJyLklOVkFMSURfQk9YX1BBWV9TRU5ERVIKICAgIGZyYW1lX2RpZyAtMQogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIEJveCBwYXltZW50IHNlbmRlciBhZGRyZXNzIG11c3QgbWF0Y2ggdHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI0NwogICAgLy8gYXNzZXJ0IGJveF9jX3BheS5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLCBlcnIuSU5WQUxJRF9CT1hfUEFZX1JFQ0lFVkVSCiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBCb3ggcGF5bWVudCByZWNpZXZlciBhZGRyZXNzIG11c3QgbWF0Y2ggYXBwbGljYXRpb24gYWRkcmVzcy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjQ4CiAgICAvLyBhc3NlcnQgYm94X2NfcGF5LmFtb3VudCA+PSBjc3QuQk9YX0NfRkVFLCBlcnIuSU5WQUxJRF9CT1hfUEFZX0ZFRQogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBBbW91bnQKICAgIHB1c2hpbnQgMjI1MDAgLy8gMjI1MDAKICAgID49CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGZ1bmRzLiBCb3ggcGF5IGFtb3VudCBpcyBub3QgZW5vdWdoIHRvIGNvdmVyIGFwcGxpY2F0aW9uIE1CUi4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjU0CiAgICAvLyBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5tYXhfcGxheWVycy5uYXRpdmUsCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ib3hfZ2FtZV9zdGF0ZSBlbnRyeSBleGlzdHMKICAgIGludGNfMCAvLyAxCiAgICBnZXRieXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI1MS0yNTYKICAgIC8vIHNydC5jaGVja19zZW5kZXJfaW5fZ2FtZSggICMgbm9xYTogRTcxMiwgUlVGMTAwCiAgICAvLyAgICAgZ2FtZV9pZD1nYW1lX2lkLAogICAgLy8gICAgIGJveF9nYW1lX3BsYXllcnM9c2VsZi5ib3hfZ2FtZV9wbGF5ZXJzLAogICAgLy8gICAgIHBsYXllcl9jb3VudD1zZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLm1heF9wbGF5ZXJzLm5hdGl2ZSwKICAgIC8vICAgICBjbGVhcl9wbGF5ZXI9RmFsc2UsCiAgICAvLyAgICAgKQogICAgZnJhbWVfZGlnIC0yCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI1MwogICAgLy8gYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICBieXRlY18yIC8vICJwXyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjUxLTI1NgogICAgLy8gc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0ubWF4X3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgIGNsZWFyX3BsYXllcj1GYWxzZSwKICAgIC8vICAgICApCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjU1CiAgICAvLyBjbGVhcl9wbGF5ZXI9RmFsc2UsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNTEtMjU2CiAgICAvLyBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5tYXhfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgY2xlYXJfcGxheWVyPUZhbHNlLAogICAgLy8gICAgICkKICAgIGNhbGxzdWIgY2hlY2tfc2VuZGVyX2luX2dhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjU3CiAgICAvLyA9PSBUcnVlCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNTEtMjU3CiAgICAvLyBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5tYXhfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgY2xlYXJfcGxheWVyPUZhbHNlLAogICAgLy8gICAgICkKICAgIC8vICAgICA9PSBUcnVlCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNTAtMjU4CiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIHNydC5jaGVja19zZW5kZXJfaW5fZ2FtZSggICMgbm9xYTogRTcxMiwgUlVGMTAwCiAgICAvLyAgICAgICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgICAgIHBsYXllcl9jb3VudD1zZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLm1heF9wbGF5ZXJzLm5hdGl2ZSwKICAgIC8vICAgICAgICAgY2xlYXJfcGxheWVyPUZhbHNlLAogICAgLy8gICAgICAgICApCiAgICAvLyAgICAgICAgID09IFRydWUKICAgIC8vICksIGVyci5JTlZBTElEX1BMQVlFUgogICAgYXNzZXJ0IC8vIFRyYW5zYWN0aW9uIHNlbmRlciBpcyBub3QgcmVjb2duaXplZCBhcyBhIHZhbGlkIHBsYXllciBmb3IgdGhpcyBnYW1lLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNjIKICAgIC8vIG9wLmJ0b2kob3AuZXh0cmFjdChvcC5zaGEyNTYoVHhuLnR4X2lkICsgb3AuaXRvYihHbG9iYWwucm91bmQpKSwgMCwgMikpICUgMwogICAgdHhuIFR4SUQKICAgIGdsb2JhbCBSb3VuZAogICAgaXRvYgogICAgY29uY2F0CiAgICBzaGEyNTYKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgcHVzaGludCAzIC8vIDMKICAgICUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjYzCiAgICAvLyArIDIKICAgIGludGNfMiAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI2Mi0yNjMKICAgIC8vIG9wLmJ0b2kob3AuZXh0cmFjdChvcC5zaGEyNTYoVHhuLnR4X2lkICsgb3AuaXRvYihHbG9iYWwucm91bmQpKSwgMCwgMikpICUgMwogICAgLy8gKyAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI2Ni0yNjcKICAgIC8vICMgRGVmaW5lIFZSRiBjb21taXQgcm91bmQgYnkgYWRkaW5nIHJvdW5kIG9mZnNldCB0byBjdXJyZW50IHJvdW5kCiAgICAvLyBjb21taXRfcm91bmQgPSBHbG9iYWwucm91bmQgKyByb3VuZF9vZmZzZXQKICAgIGdsb2JhbCBSb3VuZAogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNzEKICAgIC8vIGNvbW1pdF9yb3VuZD1hcmM0LlVJbnQ2NChjb21taXRfcm91bmQpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNjktMjcyCiAgICAvLyBzZWxmLmJveF9jb21taXRfcmFuZFtUeG4uc2VuZGVyXSA9IHN0Yy5Db21taXRSYW5kKAogICAgLy8gICAgIGdhbWVfaWQ9YXJjNC5VSW50NjQoZ2FtZV9pZCksCiAgICAvLyAgICAgY29tbWl0X3JvdW5kPWFyYzQuVUludDY0KGNvbW1pdF9yb3VuZCksCiAgICAvLyApCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjY5CiAgICAvLyBzZWxmLmJveF9jb21taXRfcmFuZFtUeG4uc2VuZGVyXSA9IHN0Yy5Db21taXRSYW5kKAogICAgcHVzaGJ5dGVzICJjXyIKICAgIHR4biBTZW5kZXIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyNjktMjcyCiAgICAvLyBzZWxmLmJveF9jb21taXRfcmFuZFtUeG4uc2VuZGVyXSA9IHN0Yy5Db21taXRSYW5kKAogICAgLy8gICAgIGdhbWVfaWQ9YXJjNC5VSW50NjQoZ2FtZV9pZCksCiAgICAvLyAgICAgY29tbWl0X3JvdW5kPWFyYzQuVUludDY0KGNvbW1pdF9yb3VuZCksCiAgICAvLyApCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMucGllb3V0LmNvbnRyYWN0LlBpZW91dC5wbGF5X2dhbWUoZ2FtZV9pZDogdWludDY0KSAtPiB2b2lkOgpwbGF5X2dhbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI3NS0yNzYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgLy8gZGVmIHBsYXlfZ2FtZShzZWxmLCBnYW1lX2lkOiBVSW50NjQpIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIGludGNfMSAvLyAwCiAgICBkdXBuIDUKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA1CgpwbGF5X2dhbWVfd2hpbGVfdG9wQDI6CiAgICBwdXNoaW50IDE0MDEwIC8vIDE0MDEwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiBwbGF5X2dhbWVfYWZ0ZXJfd2hpbGVANwogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDcgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtCiAgICBieXRlYyA3IC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBiIHBsYXlfZ2FtZV93aGlsZV90b3BAMgoKcGxheV9nYW1lX2FmdGVyX3doaWxlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4MC0yODEKICAgIC8vICMgRmFpbCB0cmFuc2FjdGlvbiB1bmxlc3MgdGhlIGFzc2VydGlvbnMgYmVsb3cgZXZhbHVhdGUgVHJ1ZQogICAgLy8gYXNzZXJ0IGdhbWVfaWQgaW4gc2VsZi5ib3hfZ2FtZV9zdGF0ZSwgZXJyLklOVkFMSURfR0FNRV9JRAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBieXRlY18xIC8vICJzXyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDUKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IGdhbWUgc3RhdGUgbm90IGZvdW5kLiBDaGVjayBpZiBHYW1lIElEIGlzIHZhbGlkLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyODYKICAgIC8vIHBsYXllcl9jb3VudD1zZWxmLmJveF9nYW1lX3N0YXRlW2dhbWVfaWRdLm1heF9wbGF5ZXJzLm5hdGl2ZSwKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYm94X2dhbWVfc3RhdGUgZW50cnkgZXhpc3RzCiAgICBpbnRjXzAgLy8gMQogICAgZ2V0Ynl0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyODMtMjg4CiAgICAvLyBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5tYXhfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgY2xlYXJfcGxheWVyPVRydWUsCiAgICAvLyAgICAgKQogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4NQogICAgLy8gYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICBieXRlY18yIC8vICJwXyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjgzLTI4OAogICAgLy8gc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0ubWF4X3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgIGNsZWFyX3BsYXllcj1UcnVlLAogICAgLy8gICAgICkKICAgIHVuY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyODcKICAgIC8vIGNsZWFyX3BsYXllcj1UcnVlLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjgzLTI4OAogICAgLy8gc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICBnYW1lX2lkPWdhbWVfaWQsCiAgICAvLyAgICAgYm94X2dhbWVfcGxheWVycz1zZWxmLmJveF9nYW1lX3BsYXllcnMsCiAgICAvLyAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0ubWF4X3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgIGNsZWFyX3BsYXllcj1UcnVlLAogICAgLy8gICAgICkKICAgIGNhbGxzdWIgY2hlY2tfc2VuZGVyX2luX2dhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6Mjg5CiAgICAvLyA9PSBUcnVlCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weToyODMtMjg5CiAgICAvLyBzcnQuY2hlY2tfc2VuZGVyX2luX2dhbWUoICAjIG5vcWE6IEU3MTIsIFJVRjEwMAogICAgLy8gICAgIGdhbWVfaWQ9Z2FtZV9pZCwKICAgIC8vICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICBwbGF5ZXJfY291bnQ9c2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5tYXhfcGxheWVycy5uYXRpdmUsCiAgICAvLyAgICAgY2xlYXJfcGxheWVyPVRydWUsCiAgICAvLyAgICAgKQogICAgLy8gICAgID09IFRydWUKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI4Mi0yOTAKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc3J0LmNoZWNrX3NlbmRlcl9pbl9nYW1lKCAgIyBub3FhOiBFNzEyLCBSVUYxMDAKICAgIC8vICAgICAgICAgZ2FtZV9pZD1nYW1lX2lkLAogICAgLy8gICAgICAgICBib3hfZ2FtZV9wbGF5ZXJzPXNlbGYuYm94X2dhbWVfcGxheWVycywKICAgIC8vICAgICAgICAgcGxheWVyX2NvdW50PXNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0ubWF4X3BsYXllcnMubmF0aXZlLAogICAgLy8gICAgICAgICBjbGVhcl9wbGF5ZXI9VHJ1ZSwKICAgIC8vICAgICAgICAgKQogICAgLy8gICAgICAgICA9PSBUcnVlCiAgICAvLyApLCBlcnIuSU5WQUxJRF9QTEFZRVIKICAgIGFzc2VydCAvLyBUcmFuc2FjdGlvbiBzZW5kZXIgaXMgbm90IHJlY29nbml6ZWQgYXMgYSB2YWxpZCBwbGF5ZXIgZm9yIHRoaXMgZ2FtZS4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MjkyLTI5MwogICAgLy8gIyBSZXRyaWV2ZSBjdXJyZW50IGdhbWUgc3RhdGUgZnJvbSBib3ggdXNpbmcgdGhlIGdhbWUgaWQgcGFyYW1ldGVyCiAgICAvLyBnYW1lX3N0YXRlID0gc2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXS5jb3B5KCkgICMgTWFrZSBhIGNvcHkgb2YgdGhlIGdhbWUgc3RhdGUgZWxzZSBpbW11dGFibGUKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAwCiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ib3hfZ2FtZV9zdGF0ZSBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6Mjk1LTI5NgogICAgLy8gIyBGYWlsIHRyYW5zYWN0aW9uIHVubGVzcyB0aGUgYXNzZXJ0aW9ucyBiZWxvdyBldmFsdWF0ZSBUcnVlCiAgICAvLyBhc3NlcnQgZ2FtZV9zdGF0ZS5zdGFraW5nX2ZpbmFsaXplZCA9PSBUcnVlLCBlcnIuU1RBS0lOR19GSU5BTCAgIyBub3FhOiBFNzEyCiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18xIC8vIDAKICAgIGdldGJpdAogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gR2FtZSBzdGF0ZSBzdGFraW5nIGZpbmFsaXplZCB2YWx1ZSBtaXNzbWF0Y2guCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjI5OAogICAgLy8gc3J0LnJvbGxfc2NvcmUoVHhuLnR4X2lkLCBnYW1lX3N0YXRlLCBUeG4uc2VuZGVyKQogICAgdHhuIFR4SUQKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo0NS00NgogICAgLy8gIyBUYWtlIGEgcG9ydGlvbiBvZiB0aGUgc2VlZCB0byBnZW5lcmF0ZSBhIHNlcXVlbmNlIG9mIHJhbmRvbSB1bnNpZ25lZCAxNi1iaXQgaW50ZWdlcnMKICAgIC8vIHN0YXRlID0gcGNnMTZfaW5pdChzZWVkPW9wLmV4dHJhY3Qoc2VlZCwgMTYsIDgpKQogICAgZHVwCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjEKICAgIC8vIGFzc2VydCBzZWVkLmxlbmd0aCA9PSA4CiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIzCiAgICAvLyByZXR1cm4gX19wY2czMl9pbml0KG9wLmJ0b2koc2VlZCksIFVJbnQ2NChQQ0dfRklSU1RfSU5DUkVNRU5UKSkKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjE1NQogICAgLy8gc3RhdGUgPSBfX3BjZzMyX3N0ZXAoVUludDY0KDApLCBpbmNyKQogICAgaW50Y18xIC8vIDAKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjY5CiAgICAvLyBfaGlnaF9tdWwsIGxvd19tdWwgPSBvcC5tdWx3KHN0YXRlLCBQQ0dfTVVMVElQTElFUikKICAgIGludGMgNCAvLyA2MzY0MTM2MjIzODQ2NzkzMDA1CiAgICBtdWx3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjMKICAgIC8vIHJldHVybiBfX3BjZzMyX2luaXQob3AuYnRvaShzZWVkKSwgVUludDY0KFBDR19GSVJTVF9JTkNSRU1FTlQpKQogICAgaW50YyA1IC8vIDE0NDI2OTUwNDA4ODg5NjM0MDcKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjcwCiAgICAvLyBfaGlnaF9hZGQsIGxvd19hZGQgPSBvcC5hZGR3KGxvd19tdWwsIGluY3IpCiAgICBhZGR3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MTU2CiAgICAvLyBfaGlnaF9hZGR3LCBzdGF0ZSA9IG9wLmFkZHcoc3RhdGUsIGluaXRpYWxfc3RhdGUpCiAgICBhZGR3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjY5CiAgICAvLyBfaGlnaF9tdWwsIGxvd19tdWwgPSBvcC5tdWx3KHN0YXRlLCBQQ0dfTVVMVElQTElFUikKICAgIGludGMgNCAvLyA2MzY0MTM2MjIzODQ2NzkzMDA1CiAgICBtdWx3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjMKICAgIC8vIHJldHVybiBfX3BjZzMyX2luaXQob3AuYnRvaShzZWVkKSwgVUludDY0KFBDR19GSVJTVF9JTkNSRU1FTlQpKQogICAgaW50YyA1IC8vIDE0NDI2OTUwNDA4ODg5NjM0MDcKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjcwCiAgICAvLyBfaGlnaF9hZGQsIGxvd19hZGQgPSBvcC5hZGR3KGxvd19tdWwsIGluY3IpCiAgICBhZGR3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MTk4CiAgICAvLyByZXN1bHQgKz0gYXJjNC5VSW50MTYobGVuZ3RoKS5ieXRlcwogICAgcHVzaGJ5dGVzIDB4MDA2NAogICAgZnJhbWVfYnVyeSA0CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjI5MgogICAgLy8gX2FkZHdfaGlnaCwgYWRkd19sb3cgPSBvcC5hZGR3KH52YWx1ZSwgMSkKICAgIHB1c2hpbnQgMTg0NDY3NDQwNzM3MDk0ODYwODAgLy8gMTg0NDY3NDQwNzM3MDk0ODYwODAKICAgIGludGNfMCAvLyAxCiAgICBhZGR3CiAgICBidXJ5IDEKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MzAwCiAgICAvLyByZXR1cm4gdmFsdWUgJiAoKDEgPDwgMzIpIC0gMSkKICAgIGludGMgNiAvLyA0Mjk0OTY3Mjk1CiAgICAmCiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIxOQogICAgLy8gYWJzb2x1dGVfYm91bmQgPSAoMSA8PCBiaXRfc2l6ZSkgLSBsb3dlcl9ib3VuZAogICAgaW50YyA4IC8vIDY1NTM1CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIyMQogICAgLy8gdGhyZXNob2xkID0gX19tYXNrX3RvX3VpbnQzMihfX3VpbnQ2NF90d29zKGFic29sdXRlX2JvdW5kKSkgJSBhYnNvbHV0ZV9ib3VuZAogICAgJQogICAgZnJhbWVfYnVyeSAxMAogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyMjMKICAgIC8vIGZvciBpIGluIHVyYW5nZShsZW5ndGgpOiAgIyBub3FhOiBCMDA3CiAgICBpbnRjXzEgLy8gMAogICAgZnJhbWVfYnVyeSA3CiAgICBmcmFtZV9idXJ5IDkKCnBsYXlfZ2FtZV9mb3JfaGVhZGVyQDExOgogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyMjMKICAgIC8vIGZvciBpIGluIHVyYW5nZShsZW5ndGgpOiAgIyBub3FhOiBCMDA3CiAgICBmcmFtZV9kaWcgNwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo1MQogICAgLy8gbGVuZ3RoPVVJbnQ2NCgxMDApLAogICAgcHVzaGludCAxMDAgLy8gMTAwCiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIyMwogICAgLy8gZm9yIGkgaW4gdXJhbmdlKGxlbmd0aCk6ICAjIG5vcWE6IEIwMDcKICAgIDwKICAgIGJ6IHBsYXlfZ2FtZV9hZnRlcl9mb3JAMTYKCnBsYXlfZ2FtZV93aGlsZV90b3BAMTM6CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjI2OQogICAgLy8gX2hpZ2hfbXVsLCBsb3dfbXVsID0gb3AubXVsdyhzdGF0ZSwgUENHX01VTFRJUExJRVIpCiAgICBmcmFtZV9kaWcgOQogICAgZHVwCiAgICBpbnRjIDQgLy8gNjM2NDEzNjIyMzg0Njc5MzAwNQogICAgbXVsdwogICAgYnVyeSAxCiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjI1NAogICAgLy8gcmV0dXJuIF9fcGNnMzJfc3RlcChzdGF0ZSwgVUludDY0KFBDR19GSVJTVF9JTkNSRU1FTlQpKSwgX19wY2czMl9vdXRwdXQoc3RhdGUpCiAgICBpbnRjIDUgLy8gMTQ0MjY5NTA0MDg4ODk2MzQwNwogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyNzAKICAgIC8vIF9oaWdoX2FkZCwgbG93X2FkZCA9IG9wLmFkZHcobG93X211bCwgaW5jcikKICAgIGFkZHcKICAgIGNvdmVyIDIKICAgIHBvcAogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyNzkKICAgIC8vIF9fbWFza190b191aW50MzIoKChzdGF0ZSA+PiAxOCkgXiBzdGF0ZSkgPj4gMjcpLCBzdGF0ZSA+PiA1OQogICAgZHVwCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBzaHIKICAgIGRpZyAxCiAgICBeCiAgICBwdXNoaW50IDI3IC8vIDI3CiAgICBzaHIKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MzAwCiAgICAvLyByZXR1cm4gdmFsdWUgJiAoKDEgPDwgMzIpIC0gMSkKICAgIGludGMgNiAvLyA0Mjk0OTY3Mjk1CiAgICAmCiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjI3OQogICAgLy8gX19tYXNrX3RvX3VpbnQzMigoKHN0YXRlID4+IDE4KSBeIHN0YXRlKSA+PiAyNyksIHN0YXRlID4+IDU5CiAgICBzd2FwCiAgICBwdXNoaW50IDU5IC8vIDU5CiAgICBzaHIKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6Mjg2CiAgICAvLyByZXR1cm4gKHZhbHVlID4+IHJvdCkgfCBfX21hc2tfdG9fdWludDMyKHZhbHVlIDw8IChfX3VpbnQ2NF90d29zKHJvdCkgJiAzMSkpCiAgICBkdXAyCiAgICBzaHIKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjkyCiAgICAvLyBfYWRkd19oaWdoLCBhZGR3X2xvdyA9IG9wLmFkZHcofnZhbHVlLCAxKQogICAgc3dhcAogICAgfgogICAgaW50Y18wIC8vIDEKICAgIGFkZHcKICAgIGJ1cnkgMQogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyODYKICAgIC8vIHJldHVybiAodmFsdWUgPj4gcm90KSB8IF9fbWFza190b191aW50MzIodmFsdWUgPDwgKF9fdWludDY0X3R3b3Mocm90KSAmIDMxKSkKICAgIHB1c2hpbnQgMzEgLy8gMzEKICAgICYKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgc2hsCiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjMwMAogICAgLy8gcmV0dXJuIHZhbHVlICYgKCgxIDw8IDMyKSAtIDEpCiAgICBpbnRjIDYgLy8gNDI5NDk2NzI5NQogICAgJgogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyODYKICAgIC8vIHJldHVybiAodmFsdWUgPj4gcm90KSB8IF9fbWFza190b191aW50MzIodmFsdWUgPDwgKF9fdWludDY0X3R3b3Mocm90KSAmIDMxKSkKICAgIHwKICAgIGR1cAogICAgZnJhbWVfYnVyeSA2CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIyNgogICAgLy8gaWYgY2FuZGlkYXRlID49IHRocmVzaG9sZDoKICAgIGZyYW1lX2RpZyAxMAogICAgPj0KICAgIGJ6IHBsYXlfZ2FtZV9hZnRlcl9pZl9lbHNlQDE1CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIyOAogICAgLy8gb3AuaXRvYigoY2FuZGlkYXRlICUgYWJzb2x1dGVfYm91bmQpICsgbG93ZXJfYm91bmQpLAogICAgZnJhbWVfZGlnIDYKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjE5CiAgICAvLyBhYnNvbHV0ZV9ib3VuZCA9ICgxIDw8IGJpdF9zaXplKSAtIGxvd2VyX2JvdW5kCiAgICBpbnRjIDggLy8gNjU1MzUKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjI4CiAgICAvLyBvcC5pdG9iKChjYW5kaWRhdGUgJSBhYnNvbHV0ZV9ib3VuZCkgKyBsb3dlcl9ib3VuZCksCiAgICAlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjQ5CiAgICAvLyBsb3dlcl9ib3VuZD1VSW50NjQoMSksCiAgICBpbnRjXzAgLy8gMQogICAgLy8gLnZlbnYvTGliL3NpdGUtcGFja2FnZXMvbGliX3BjZy9wY2czMi5weToyMjgKICAgIC8vIG9wLml0b2IoKGNhbmRpZGF0ZSAlIGFic29sdXRlX2JvdW5kKSArIGxvd2VyX2JvdW5kKSwKICAgICsKICAgIGl0b2IKICAgIC8vIC52ZW52L0xpYi9zaXRlLXBhY2thZ2VzL2xpYl9wY2cvcGNnMzIucHk6MjI3LTIzMQogICAgLy8gcmVzdWx0ICs9IG9wLmV4dHJhY3QoCiAgICAvLyAgICAgb3AuaXRvYigoY2FuZGlkYXRlICUgYWJzb2x1dGVfYm91bmQpICsgbG93ZXJfYm91bmQpLAogICAgLy8gICAgIHRydW5jYXRlX3N0YXJ0X2NhY2hlZCwKICAgIC8vICAgICBieXRlX3NpemUsCiAgICAvLyApCiAgICBleHRyYWN0IDYgMgogICAgZnJhbWVfZGlnIDQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSA0CiAgICAvLyAudmVudi9MaWIvc2l0ZS1wYWNrYWdlcy9saWJfcGNnL3BjZzMyLnB5OjIyMwogICAgLy8gZm9yIGkgaW4gdXJhbmdlKGxlbmd0aCk6ICAjIG5vcWE6IEIwMDcKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA3CiAgICBmcmFtZV9idXJ5IDkKICAgIGIgcGxheV9nYW1lX2Zvcl9oZWFkZXJAMTEKCnBsYXlfZ2FtZV9hZnRlcl9pZl9lbHNlQDE1OgogICAgZnJhbWVfYnVyeSA5CiAgICBiIHBsYXlfZ2FtZV93aGlsZV90b3BAMTMKCnBsYXlfZ2FtZV9hZnRlcl9mb3JAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjU0CiAgICAvLyBzY29yZSA9IFVJbnQ2NCgwKQogICAgaW50Y18xIC8vIDAKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo1NQogICAgLy8gZm9yIGkgaW4gdXJhbmdlKDIsIHNlcXVlbmNlLmJ5dGVzLmxlbmd0aCwgMik6CiAgICBmcmFtZV9kaWcgNAogICAgbGVuCiAgICBmcmFtZV9idXJ5IDExCiAgICBpbnRjXzIgLy8gMgogICAgZnJhbWVfYnVyeSA3CgpwbGF5X2dhbWVfZm9yX2hlYWRlckAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6NTUKICAgIC8vIGZvciBpIGluIHVyYW5nZSgyLCBzZXF1ZW5jZS5ieXRlcy5sZW5ndGgsIDIpOgogICAgZnJhbWVfZGlnIDcKICAgIGZyYW1lX2RpZyAxMQogICAgPAogICAgYnogcGxheV9nYW1lX2FmdGVyX2ZvckAyMQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo1NgogICAgLy8gcm9sbCA9IG9wLmV4dHJhY3RfdWludDE2KHNlcXVlbmNlLmJ5dGVzWzI6XSwgaSkKICAgIGludGNfMiAvLyAyCiAgICBmcmFtZV9kaWcgMTEKICAgIGR1cAogICAgY292ZXIgMgogICAgPj0KICAgIGludGNfMiAvLyAyCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGZyYW1lX2RpZyA0CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIGZyYW1lX2RpZyA3CiAgICBleHRyYWN0X3VpbnQxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo1OAogICAgLy8gaWYgcm9sbCA8PSBjc3QuRUxJTV9USFJFU0hPTEQ6CiAgICBwdXNoaW50IDEwOTkyIC8vIDEwOTkyCiAgICA8PQogICAgYm56IHBsYXlfZ2FtZV9hZnRlcl9mb3JAMjEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6NjEKICAgIC8vIHNjb3JlICs9IDEKICAgIGZyYW1lX2RpZyA4CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L3N1YnJvdXRpbmVzLnB5OjU1CiAgICAvLyBmb3IgaSBpbiB1cmFuZ2UoMiwgc2VxdWVuY2UuYnl0ZXMubGVuZ3RoLCAyKToKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgZnJhbWVfYnVyeSA3CiAgICBiIHBsYXlfZ2FtZV9mb3JfaGVhZGVyQDE4CgpwbGF5X2dhbWVfYWZ0ZXJfZm9yQDIxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo2MwogICAgLy8gbmV3X3Njb3JlID0gYXJjNC5VSW50OChzY29yZSkKICAgIGZyYW1lX2RpZyA4CiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo2NAogICAgLy8gaWYgbmV3X3Njb3JlID4gZ2FtZV9zdGF0ZS5oaWdoX3Njb3JlOgogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgY292ZXIgMgogICAgZXh0cmFjdCAzIDEgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBiPgogICAgc3dhcAogICAgZnJhbWVfYnVyeSAxCiAgICBieiBwbGF5X2dhbWVfYWZ0ZXJfaWZfZWxzZUAyMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9zdWJyb3V0aW5lcy5weTo2NQogICAgLy8gZ2FtZV9zdGF0ZS5oaWdoX3Njb3JlID0gbmV3X3Njb3JlCiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDIKICAgIHJlcGxhY2UyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvc3Vicm91dGluZXMucHk6NjYKICAgIC8vIGdhbWVfc3RhdGUud2lubmVyX2FkZHJlc3MgPSBhcmM0LkFkZHJlc3MocGxheWVyKQogICAgZnJhbWVfZGlnIDMKICAgIHJlcGxhY2UyIDQ2CiAgICBmcmFtZV9idXJ5IDEKCnBsYXlfZ2FtZV9hZnRlcl9pZl9lbHNlQDIzOgogICAgZnJhbWVfZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MzAwLTMwMQogICAgLy8gIyBEZWNyZW1lbnQgbnVtYmVyIG9mIGFjdGl2ZSBwbGF5ZXJzIGJ5IDEKICAgIC8vIGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMgPSBhcmM0LlVJbnQ4KGdhbWVfc3RhdGUuYWN0aXZlX3BsYXllcnMubmF0aXZlIC0gMSkKICAgIGR1cAogICAgaW50Y18yIC8vIDIKICAgIGdldGJ5dGUKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICByZXBsYWNlMiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjMwMy0zMDQKICAgIC8vICMgQ29weSB0aGUgbW9kaWZpZWQgZ2FtZSBzdGF0ZSBhbmQgc3RvcmUgaXQgYXMgbmV3IHZhbHVlIG9mIGJveAogICAgLy8gc2VsZi5ib3hfZ2FtZV9zdGF0ZVtnYW1lX2lkXSA9IGdhbWVfc3RhdGUuY29weSgpCiAgICBmcmFtZV9kaWcgNQogICAgc3dhcAogICAgYm94X3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5jb250cmFjdC5QaWVvdXQuY2xhaW1fcHJpemVfcG9vbChnYW1lX2lkOiB1aW50NjQpIC0+IHZvaWQ6CmNsYWltX3ByaXplX3Bvb2w6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjMzMS0zMzIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgLy8gZGVmIGNsYWltX3ByaXplX3Bvb2woc2VsZiwgZ2FtZV9pZDogVUludDY0KSAtPiBOb25lOgogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjMzMy0zMzQKICAgIC8vICMgRmFpbCB0cmFuc2FjdGlvbiB1bmxlc3MgdGhlIGFzc2VydGlvbi9zIGJlbG93IGV2YWx1YXRlL3MgVHJ1ZQogICAgLy8gYXNzZXJ0IGdhbWVfaWQgaW4gc2VsZi5ib3hfZ2FtZV9zdGF0ZSwgZXJyLklOVkFMSURfR0FNRV9JRAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBieXRlY18xIC8vICJzXyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggZ2FtZSBzdGF0ZSBub3QgZm91bmQuIENoZWNrIGlmIEdhbWUgSUQgaXMgdmFsaWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjMzNi0zMzcKICAgIC8vICMgUmV0cmlldmUgY3VycmVudCBnYW1lIHN0YXRlIGZyb20gYm94IHVzaW5nIHRoZSBnYW1lIGlkIHBhcmFtZXRlcgogICAgLy8gZ2FtZV9zdGF0ZSA9IHNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0uY29weSgpICAjIE1ha2UgYSBjb3B5IG9mIHRoZSBnYW1lIHN0YXRlIGVsc2UgaW1tdXRhYmxlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmJveF9nYW1lX3N0YXRlIGVudHJ5IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTozMzktMzQwCiAgICAvLyAjIEZhaWwgdHJhbnNhY3Rpb24gdW5sZXNzIHRoZSBhc3NlcnRpb25zIGJlbG93IGV2YWx1YXRlIFRydWUKICAgIC8vIGFzc2VydCBnYW1lX3N0YXRlLnN0YWtpbmdfZmluYWxpemVkID09IFRydWUsIGVyci5TVEFLSU5HX0ZJTkFMICAjIG5vcWE6IEU3MTIKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGludGNfMSAvLyAwCiAgICBnZXRiaXQKICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIEdhbWUgc3RhdGUgc3Rha2luZyBmaW5hbGl6ZWQgdmFsdWUgbWlzc21hdGNoLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTozNDEKICAgIC8vIGFzc2VydCBnYW1lX3N0YXRlLmFjdGl2ZV9wbGF5ZXJzLm5hdGl2ZSA9PSAwLCBlcnIuTk9OX1pFUk9fQUNUSVZFX1BMQVlFUlMKICAgIGR1cAogICAgaW50Y18yIC8vIDIKICAgIGdldGJ5dGUKICAgICEKICAgIGFzc2VydCAvLyBHYW1lIGxvYmJ5IG5vdCBlbXB0eS4gTnVtYmVyIG9mIGFjdGl2ZSBwbGF5ZXJzIG11c3QgYmUgemVyby4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MzQyCiAgICAvLyBhc3NlcnQgZ2FtZV9zdGF0ZS53aW5uZXJfYWRkcmVzcyA9PSBUeG4uc2VuZGVyLCBlcnIuSU5WQUxJRF9XSU5ORVIKICAgIGR1cAogICAgZXh0cmFjdCA0NiAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gVHJhbnNhY3Rpb24gc2VuZGVyIGlzIG5vdCByZWNvZ25pemVkIGFzIHZhbGlkIHdpbm5lciBhZGRyZXNzIGZvciB0aGlzIGdhbWUuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjM0NS0zNDkKICAgIC8vICMgVHJhbnNhY3Rpb24gc2VuZGVyICh3aW5uZXIpIHJlY2lldmVzIHRoZSBwcml6ZSBwb29sIGFtb3VudCB2aWEgcGF5bWVudCBpbm5lciB0cmFuc2FjdGlvbgogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPVR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50PWdhbWVfc3RhdGUucHJpemVfcG9vbC5uYXRpdmUsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjM0NwogICAgLy8gcmVjZWl2ZXI9VHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waWVvdXQvY29udHJhY3QucHk6MzQ4CiAgICAvLyBhbW91bnQ9Z2FtZV9zdGF0ZS5wcml6ZV9wb29sLm5hdGl2ZSwKICAgIGRpZyAxCiAgICBwdXNoaW50IDYgLy8gNgogICAgZXh0cmFjdF91aW50NjQKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjM0NS0zNDYKICAgIC8vICMgVHJhbnNhY3Rpb24gc2VuZGVyICh3aW5uZXIpIHJlY2lldmVzIHRoZSBwcml6ZSBwb29sIGFtb3VudCB2aWEgcGF5bWVudCBpbm5lciB0cmFuc2FjdGlvbgogICAgLy8gaXR4bi5QYXltZW50KAogICAgaW50Y18wIC8vIHBheQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18xIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGllb3V0L2NvbnRyYWN0LnB5OjM0NS0zNDkKICAgIC8vICMgVHJhbnNhY3Rpb24gc2VuZGVyICh3aW5uZXIpIHJlY2lldmVzIHRoZSBwcml6ZSBwb29sIGFtb3VudCB2aWEgcGF5bWVudCBpbm5lciB0cmFuc2FjdGlvbgogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPVR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50PWdhbWVfc3RhdGUucHJpemVfcG9vbC5uYXRpdmUsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTozNTEtMzUyCiAgICAvLyAjIFNldCBwcml6ZSBwb29sIGFtb3VudCB0byB6ZXJvCiAgICAvLyBnYW1lX3N0YXRlLnByaXplX3Bvb2wgPSBhcmM0LlVJbnQ2NCgwKQogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgcmVwbGFjZTIgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTozNTQtMzU1CiAgICAvLyAjIENvcHkgdGhlIG1vZGlmaWVkIGdhbWUgc3RhdGUgYW5kIHN0b3JlIGl0IGFzIG5ldyB2YWx1ZSBvZiBib3gKICAgIC8vIHNlbGYuYm94X2dhbWVfc3RhdGVbZ2FtZV9pZF0gPSBnYW1lX3N0YXRlLmNvcHkoKQogICAgYm94X3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLnBpZW91dC5jb250cmFjdC5QaWVvdXQudGVybWluYXRlKCkgLT4gdm9pZDoKdGVybWluYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2NDQKICAgIC8vIFR4bi5zZW5kZXIgPT0gR2xvYmFsLmNyZWF0b3JfYWRkcmVzcwogICAgdHhuIFNlbmRlcgogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2NDItNjQ1CiAgICAvLyAjIEZhaWwgdHJhbnNhY3Rpb24gdW5sZXNzIHRoZSBhc3NlcnRpb24vcyBiZWxvdyBldmFsdWF0ZS9zIFRydWUKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgVHhuLnNlbmRlciA9PSBHbG9iYWwuY3JlYXRvcl9hZGRyZXNzCiAgICAvLyApLCAiVHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MgbXVzdCBtYXRjaCBhcHBsaWNhdGlvbiBjcmVhdG9yIGFkZHJlc3MuIgogICAgYXNzZXJ0IC8vIFRyYW5zYWN0aW9uIHNlbmRlciBhZGRyZXNzIG11c3QgbWF0Y2ggYXBwbGljYXRpb24gY3JlYXRvciBhZGRyZXNzLgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpZW91dC9jb250cmFjdC5weTo2NDctNjQ5CiAgICAvLyBhc3NlcnQgVGVtcGxhdGVWYXJbYm9vbF0oCiAgICAvLyAgICAgIkRFTEVUQUJMRSIKICAgIC8vICksICJUZW1wbGF0ZSB2YXJpYWJsZSAnREVMRVRBQkxFJyBuZWVkcyB0byBiZSAnVHJ1ZScgYXQgZGVwbG95LXRpbWUuIgogICAgaW50YyAxMCAvLyBUTVBMX0RFTEVUQUJMRQogICAgYXNzZXJ0IC8vIFRlbXBsYXRlIHZhcmlhYmxlICdERUxFVEFCTEUnIG5lZWRzIHRvIGJlICdUcnVlJyBhdCBkZXBsb3ktdGltZS4KICAgIHJldHN1Ygo=", "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMSAvLyAxCiAgICByZXR1cm4K"}, "sourceInfo": {"approval": {"pcOffsetMethod": "cblocks", "sourceInfo": [{"pc": [672, 968, 1150, 1278, 1634], "errorMessage": "Box game state not found. Check if Game ID is valid."}, {"pc": [799, 807, 1166], "errorMessage": "Box payment reciever address must match application address."}, {"pc": [775, 783, 1158], "errorMessage": "Box payment sender address must match transaction sender address."}, {"pc": [1655], "errorMessage": "Game lobby not empty. Number of active players must be zero."}, {"pc": [693, 1039, 1315, 1650], "errorMessage": "Game state staking finalized value missmatch."}, {"pc": [480, 485, 490, 495, 500, 505, 510, 674, 1018, 1023, 1111, 1116, 1575, 1657], "errorMessage": "Index access is out of bounds"}, {"pc": [825, 855, 1176], "errorMessage": "Insufficient funds. Box pay amount is not enough to cover application MBR."}, {"pc": [717, 864, 995], "errorMessage": "Insufficient funds. Stake pay amount is not enough to cover application MBR."}, {"pc": [1027], "errorMessage": "Number of active players must not exceed number of max players."}, {"pc": [103], "errorMessage": "OnCompletion is not DeleteApplication"}, {"pc": [115, 131, 147, 173, 199, 246, 272, 285, 306, 327, 344], "errorMessage": "OnCompletion is not NoOp"}, {"pc": [767], "errorMessage": "Player cap overflow. Max players limit must not be exceeded."}, {"pc": [1053], "errorMessage": "Players box start position index overflow. Can not store more addresses."}, {"pc": [709, 815, 984], "errorMessage": "Stake payment reciever address must match application address."}, {"pc": [701, 791, 976], "errorMessage": "Stake payment sender address must match transaction sender address."}, {"pc": [1705], "errorMessage": "Template variable 'DELETABLE' needs to be 'True' at deploy-time."}, {"pc": [633, 1702], "errorMessage": "Transaction sender address must match application creator address."}, {"pc": [1016], "errorMessage": "Transaction sender is already recognized as a valid player for this game."}, {"pc": [1192, 1295], "errorMessage": "Transaction sender is not recognized as a valid player for this game."}, {"pc": [680], "errorMessage": "Transaction sender is not recognized as valid manager address for this game."}, {"pc": [1663], "errorMessage": "Transaction sender is not recognized as valid winner address for this game."}, {"pc": [276], "errorMessage": "can only call when creating"}, {"pc": [106, 118, 134, 150, 176, 202, 249, 288, 309, 330, 347], "errorMessage": "can only call when not creating"}, {"pc": [379], "errorMessage": "check BoxMap entry exists"}, {"pc": [555], "errorMessage": "check self.box_game_players entry exists"}, {"pc": [469, 666, 999, 1003, 1178, 1281, 1303, 1637], "errorMessage": "check self.box_game_state entry exists"}, {"pc": [907, 917, 932, 944], "errorMessage": "check self.game_id exists"}, {"pc": [841, 873, 1075, 1093, 1563, 1610], "errorMessage": "overflow"}, {"pc": [164, 190, 217, 227, 237, 263], "errorMessage": "transaction type is pay"}]}, "clear": {"pcOffsetMethod": "none", "sourceInfo": []}}, "templateVariables": {"GEN_UNIX": {"type": "AVMUint64"}, "DELETABLE": {"type": "AVMUint64"}}}"""
APP_SPEC = algokit_utils.Arc56Contract.from_json(_APP_SPEC_JSON)

def _parse_abi_args(args: object | None = None) -> list[object] | None:
    """Helper to parse ABI args into the format expected by underlying client"""
    if args is None:
        return None

    def convert_dataclass(value: object) -> object:
        if dataclasses.is_dataclass(value):
            return tuple(convert_dataclass(getattr(value, field.name)) for field in dataclasses.fields(value))
        elif isinstance(value, (list, tuple)):
            return type(value)(convert_dataclass(item) for item in value)
        return value

    match args:
        case tuple():
            method_args = list(args)
        case _ if dataclasses.is_dataclass(args):
            method_args = [getattr(args, field.name) for field in dataclasses.fields(args)]
        case _:
            raise ValueError("Invalid 'args' type. Expected 'tuple' or 'TypedDict' for respective typed arguments.")

    return [
        convert_dataclass(arg) if not isinstance(arg, algokit_utils.AppMethodCallTransactionArgument) else arg
        for arg in method_args
    ] if method_args else None

def _init_dataclass(cls: type, data: dict) -> object:
    """
    Recursively instantiate a dataclass of type `cls` from `data`.

    For each field on the dataclass, if the field type is also a dataclass
    and the corresponding data is a dict, instantiate that field recursively.
    """
    field_values = {}
    for field in dataclasses.fields(cls):
        field_value = data.get(field.name)
        # Check if the field expects another dataclass and the value is a dict.
        if dataclasses.is_dataclass(field.type) and isinstance(field_value, dict):
            field_values[field.name] = _init_dataclass(typing.cast(type, field.type), field_value)
        else:
            field_values[field.name] = field_value
    return cls(**field_values)

@dataclasses.dataclass(frozen=True)
class CommitRand:
    """Struct for CommitRand"""
    game_id: int
    commit_round: int

@dataclasses.dataclass(frozen=True)
class GameState:
    """Struct for GameState"""
    staking_finalized: bool
    max_players: int
    active_players: int
    high_score: int
    box_p_start_pos: int
    prize_pool: int
    manager_address: str
    winner_address: str


@dataclasses.dataclass(frozen=True, kw_only=True)
class CalcSingleBoxFeeArgs:
    """Dataclass for calc_single_box_fee arguments"""
    key_size: int
    value_size: int

    @property
    def abi_method_signature(self) -> str:
        return "calc_single_box_fee(uint8,uint16)uint64"

@dataclasses.dataclass(frozen=True, kw_only=True)
class ReadGameStateArgs:
    """Dataclass for read_game_state arguments"""
    game_id: int

    @property
    def abi_method_signature(self) -> str:
        return "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)"

@dataclasses.dataclass(frozen=True, kw_only=True)
class ReadGamePlayersArgs:
    """Dataclass for read_game_players arguments"""
    game_id: int

    @property
    def abi_method_signature(self) -> str:
        return "read_game_players(uint64)address[]"

@dataclasses.dataclass(frozen=True, kw_only=True)
class ResetGameArgs:
    """Dataclass for reset_game arguments"""
    game_id: int
    stake_pay: algokit_utils.AppMethodCallTransactionArgument

    @property
    def abi_method_signature(self) -> str:
        return "reset_game(uint64,pay)void"

@dataclasses.dataclass(frozen=True, kw_only=True)
class NewGameArgs:
    """Dataclass for new_game arguments"""
    total_players: int
    box_s_pay: algokit_utils.AppMethodCallTransactionArgument
    box_p_pay: algokit_utils.AppMethodCallTransactionArgument
    stake_pay: algokit_utils.AppMethodCallTransactionArgument

    @property
    def abi_method_signature(self) -> str:
        return "new_game(uint64,pay,pay,pay)void"

@dataclasses.dataclass(frozen=True, kw_only=True)
class JoinGameArgs:
    """Dataclass for join_game arguments"""
    game_id: int
    stake_pay: algokit_utils.AppMethodCallTransactionArgument

    @property
    def abi_method_signature(self) -> str:
        return "join_game(uint64,pay)void"

@dataclasses.dataclass(frozen=True, kw_only=True)
class CommitRandArgs:
    """Dataclass for commit_rand arguments"""
    game_id: int
    box_c_pay: algokit_utils.AppMethodCallTransactionArgument

    @property
    def abi_method_signature(self) -> str:
        return "commit_rand(uint64,pay)void"

@dataclasses.dataclass(frozen=True, kw_only=True)
class PlayGameArgs:
    """Dataclass for play_game arguments"""
    game_id: int

    @property
    def abi_method_signature(self) -> str:
        return "play_game(uint64)void"

@dataclasses.dataclass(frozen=True, kw_only=True)
class ClaimPrizePoolArgs:
    """Dataclass for claim_prize_pool arguments"""
    game_id: int

    @property
    def abi_method_signature(self) -> str:
        return "claim_prize_pool(uint64)void"


class _PieoutDelete:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def terminate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppDeleteMethodCallParams:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.delete(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "terminate()void",
        }))


class PieoutParams:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def delete(self) -> "_PieoutDelete":
        return _PieoutDelete(self.app_client)

    def calc_single_box_fee(
        self,
        args: tuple[int, int] | CalcSingleBoxFeeArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "calc_single_box_fee(uint8,uint16)uint64",
            "args": method_args,
        }))

    def read_gen_unix(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_gen_unix()uint64",
        }))

    def read_game_state(
        self,
        args: tuple[int] | ReadGameStateArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)",
            "args": method_args,
        }))

    def read_game_players(
        self,
        args: tuple[int] | ReadGamePlayersArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_players(uint64)address[]",
            "args": method_args,
        }))

    def reset_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | ResetGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "reset_game(uint64,pay)void",
            "args": method_args,
        }))

    def new_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument] | NewGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "new_game(uint64,pay,pay,pay)void",
            "args": method_args,
        }))

    def join_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | JoinGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "join_game(uint64,pay)void",
            "args": method_args,
        }))

    def commit_rand(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | CommitRandArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "commit_rand(uint64,pay)void",
            "args": method_args,
        }))

    def play_game(
        self,
        args: tuple[int] | PlayGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "play_game(uint64)void",
            "args": method_args,
        }))

    def claim_prize_pool(
        self,
        args: tuple[int] | ClaimPrizePoolArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "claim_prize_pool(uint64)void",
            "args": method_args,
        }))

    def generate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.AppCallMethodCallParams:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.params.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "generate()void",
        }))

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        
    ) -> algokit_utils.AppCallParams:
        return self.app_client.params.bare.clear_state(
            params,
            
        )


class _PieoutDeleteTransaction:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def terminate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.delete(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "terminate()void",
        }))


class PieoutCreateTransactionParams:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def delete(self) -> "_PieoutDeleteTransaction":
        return _PieoutDeleteTransaction(self.app_client)

    def calc_single_box_fee(
        self,
        args: tuple[int, int] | CalcSingleBoxFeeArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "calc_single_box_fee(uint8,uint16)uint64",
            "args": method_args,
        }))

    def read_gen_unix(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_gen_unix()uint64",
        }))

    def read_game_state(
        self,
        args: tuple[int] | ReadGameStateArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)",
            "args": method_args,
        }))

    def read_game_players(
        self,
        args: tuple[int] | ReadGamePlayersArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_players(uint64)address[]",
            "args": method_args,
        }))

    def reset_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | ResetGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "reset_game(uint64,pay)void",
            "args": method_args,
        }))

    def new_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument] | NewGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "new_game(uint64,pay,pay,pay)void",
            "args": method_args,
        }))

    def join_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | JoinGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "join_game(uint64,pay)void",
            "args": method_args,
        }))

    def commit_rand(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | CommitRandArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "commit_rand(uint64,pay)void",
            "args": method_args,
        }))

    def play_game(
        self,
        args: tuple[int] | PlayGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "play_game(uint64)void",
            "args": method_args,
        }))

    def claim_prize_pool(
        self,
        args: tuple[int] | ClaimPrizePoolArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "claim_prize_pool(uint64)void",
            "args": method_args,
        }))

    def generate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> algokit_utils.BuiltTransactions:
    
        params = params or algokit_utils.CommonAppCallParams()
        return self.app_client.create_transaction.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "generate()void",
        }))

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        
    ) -> Transaction:
        return self.app_client.create_transaction.bare.clear_state(
            params,
            
        )


class _PieoutDeleteSend:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    def terminate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
    
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.delete(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "terminate()void",
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)


class PieoutSend:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def delete(self) -> "_PieoutDeleteSend":
        return _PieoutDeleteSend(self.app_client)

    def calc_single_box_fee(
        self,
        args: tuple[int, int] | CalcSingleBoxFeeArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[int]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "calc_single_box_fee(uint8,uint16)uint64",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[int], parsed_response)

    def read_gen_unix(
        self,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[int]:
    
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_gen_unix()uint64",
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[int], parsed_response)

    def read_game_state(
        self,
        args: tuple[int] | ReadGameStateArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[tuple[int, bool, int, int, int, int, int, str, str]]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[tuple[int, bool, int, int, int, int, int, str, str]], parsed_response)

    def read_game_players(
        self,
        args: tuple[int] | ReadGamePlayersArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[list[str]]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "read_game_players(uint64)address[]",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[list[str]], parsed_response)

    def reset_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | ResetGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "reset_game(uint64,pay)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def new_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument] | NewGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "new_game(uint64,pay,pay,pay)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def join_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | JoinGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "join_game(uint64,pay)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def commit_rand(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | CommitRandArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "commit_rand(uint64,pay)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def play_game(
        self,
        args: tuple[int] | PlayGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "play_game(uint64)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def claim_prize_pool(
        self,
        args: tuple[int] | ClaimPrizePoolArgs,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
        method_args = _parse_abi_args(args)
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "claim_prize_pool(uint64)void",
            "args": method_args,
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def generate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[None]:
    
        params = params or algokit_utils.CommonAppCallParams()
        response = self.app_client.send.call(algokit_utils.AppClientMethodCallParams(**{
            **dataclasses.asdict(params),
            "method": "generate()void",
        }), send_params=send_params)
        parsed_response = response
        return typing.cast(algokit_utils.SendAppTransactionResult[None], parsed_response)

    def clear_state(
        self,
        params: algokit_utils.AppClientBareCallParams | None = None,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAppTransactionResult[algokit_utils.ABIReturn]:
        return self.app_client.send.bare.clear_state(
            params,
            send_params=send_params,
        )


class GlobalStateValue(typing.TypedDict):
    """Shape of global_state state key values"""
    game_id: int
    vrf_commit_id: int

class PieoutState:
    """Methods to access state for the current Pieout app"""

    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client

    @property
    def global_state(
        self
    ) -> "_GlobalState":
            """Methods to access global_state for the current app"""
            return _GlobalState(self.app_client)

    @property
    def box(
        self
    ) -> "_BoxState":
            """Methods to access box for the current app"""
            return _BoxState(self.app_client)

class _GlobalState:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client
        
        # Pre-generated mapping of value types to their struct classes
        self._struct_classes: dict[str, typing.Type[typing.Any]] = {}

    def get_all(self) -> GlobalStateValue:
        """Get all current keyed values from global_state state"""
        result = self.app_client.state.global_state.get_all()
        if not result:
            return typing.cast(GlobalStateValue, {})

        converted = {}
        for key, value in result.items():
            key_info = self.app_client.app_spec.state.keys.global_state.get(key)
            struct_class = self._struct_classes.get(key_info.value_type) if key_info else None
            converted[key] = (
                _init_dataclass(struct_class, value) if struct_class and isinstance(value, dict)
                else value
            )
        return typing.cast(GlobalStateValue, converted)

    @property
    def game_id(self) -> int:
        """Get the current value of the game_id key in global_state state"""
        value = self.app_client.state.global_state.get_value("game_id")
        if isinstance(value, dict) and "AVMUint64" in self._struct_classes:
            return _init_dataclass(self._struct_classes["AVMUint64"], value)  # type: ignore
        return typing.cast(int, value)

    @property
    def vrf_commit_id(self) -> int:
        """Get the current value of the vrf_commit_id key in global_state state"""
        value = self.app_client.state.global_state.get_value("vrf_commit_id")
        if isinstance(value, dict) and "AVMUint64" in self._struct_classes:
            return _init_dataclass(self._struct_classes["AVMUint64"], value)  # type: ignore
        return typing.cast(int, value)

class _BoxState:
    def __init__(self, app_client: algokit_utils.AppClient):
        self.app_client = app_client
        
        # Pre-generated mapping of value types to their struct classes
        self._struct_classes: dict[str, typing.Type[typing.Any]] = {
            "GameState": GameState,
            "CommitRand": CommitRand
        }

    def get_all(self) -> dict[str, typing.Any]:
        """Get all current keyed values from box state"""
        result = self.app_client.state.box.get_all()
        if not result:
            return {}

        converted = {}
        for key, value in result.items():
            key_info = self.app_client.app_spec.state.keys.box.get(key)
            struct_class = self._struct_classes.get(key_info.value_type) if key_info else None
            converted[key] = (
                _init_dataclass(struct_class, value) if struct_class and isinstance(value, dict)
                else value
            )
        return converted

    @property
    def box_game_state(self) -> "_MapState[int, GameState]":
        """Get values from the box_game_state map in box state"""
        return _MapState(
            self.app_client.state.box,
            "box_game_state",
            self._struct_classes.get("GameState")
        )

    @property
    def box_game_players(self) -> "_MapState[int, bytes]":
        """Get values from the box_game_players map in box state"""
        return _MapState(
            self.app_client.state.box,
            "box_game_players",
            None
        )

    @property
    def box_commit_rand(self) -> "_MapState[str, CommitRand]":
        """Get values from the box_commit_rand map in box state"""
        return _MapState(
            self.app_client.state.box,
            "box_commit_rand",
            self._struct_classes.get("CommitRand")
        )

_KeyType = typing.TypeVar("_KeyType")
_ValueType = typing.TypeVar("_ValueType")

class _AppClientStateMethodsProtocol(typing.Protocol):
    def get_map(self, map_name: str) -> dict[typing.Any, typing.Any]:
        ...
    def get_map_value(self, map_name: str, key: typing.Any) -> typing.Any | None:
        ...

class _MapState(typing.Generic[_KeyType, _ValueType]):
    """Generic class for accessing state maps with strongly typed keys and values"""

    def __init__(self, state_accessor: _AppClientStateMethodsProtocol, map_name: str,
                struct_class: typing.Type[_ValueType] | None = None):
        self._state_accessor = state_accessor
        self._map_name = map_name
        self._struct_class = struct_class

    def get_map(self) -> dict[_KeyType, _ValueType]:
        """Get all current values in the map"""
        result = self._state_accessor.get_map(self._map_name)
        if self._struct_class and result:
            return {k: _init_dataclass(self._struct_class, v) if isinstance(v, dict) else v
                    for k, v in result.items()}  # type: ignore
        return typing.cast(dict[_KeyType, _ValueType], result or {})

    def get_value(self, key: _KeyType) -> _ValueType | None:
        """Get a value from the map by key"""
        key_value = dataclasses.asdict(key) if dataclasses.is_dataclass(key) else key  # type: ignore
        value = self._state_accessor.get_map_value(self._map_name, key_value)
        if value is not None and self._struct_class and isinstance(value, dict):
            return _init_dataclass(self._struct_class, value)  # type: ignore
        return typing.cast(_ValueType | None, value)


class PieoutClient:
    """Client for interacting with Pieout smart contract"""

    @typing.overload
    def __init__(self, app_client: algokit_utils.AppClient) -> None: ...
    
    @typing.overload
    def __init__(
        self,
        *,
        algorand: _AlgoKitAlgorandClient,
        app_id: int,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> None: ...

    def __init__(
        self,
        app_client: algokit_utils.AppClient | None = None,
        *,
        algorand: _AlgoKitAlgorandClient | None = None,
        app_id: int | None = None,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> None:
        if app_client:
            self.app_client = app_client
        elif algorand and app_id:
            self.app_client = algokit_utils.AppClient(
                algokit_utils.AppClientParams(
                    algorand=algorand,
                    app_spec=APP_SPEC,
                    app_id=app_id,
                    app_name=app_name,
                    default_sender=default_sender,
                    default_signer=default_signer,
                    approval_source_map=approval_source_map,
                    clear_source_map=clear_source_map,
                )
            )
        else:
            raise ValueError("Either app_client or algorand and app_id must be provided")
    
        self.params = PieoutParams(self.app_client)
        self.create_transaction = PieoutCreateTransactionParams(self.app_client)
        self.send = PieoutSend(self.app_client)
        self.state = PieoutState(self.app_client)

    @staticmethod
    def from_creator_and_name(
        creator_address: str,
        app_name: str,
        algorand: _AlgoKitAlgorandClient,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
        ignore_cache: bool | None = None,
        app_lookup_cache: algokit_utils.ApplicationLookup | None = None,
    ) -> "PieoutClient":
        return PieoutClient(
            algokit_utils.AppClient.from_creator_and_name(
                creator_address=creator_address,
                app_name=app_name,
                app_spec=APP_SPEC,
                algorand=algorand,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
                ignore_cache=ignore_cache,
                app_lookup_cache=app_lookup_cache,
            )
        )
    
    @staticmethod
    def from_network(
        algorand: _AlgoKitAlgorandClient,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> "PieoutClient":
        return PieoutClient(
            algokit_utils.AppClient.from_network(
                app_spec=APP_SPEC,
                algorand=algorand,
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
            )
        )

    @property
    def app_id(self) -> int:
        return self.app_client.app_id
    
    @property
    def app_address(self) -> str:
        return self.app_client.app_address
    
    @property
    def app_name(self) -> str:
        return self.app_client.app_name
    
    @property
    def app_spec(self) -> algokit_utils.Arc56Contract:
        return self.app_client.app_spec
    
    @property
    def algorand(self) -> _AlgoKitAlgorandClient:
        return self.app_client.algorand

    def clone(
        self,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> "PieoutClient":
        return PieoutClient(
            self.app_client.clone(
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                approval_source_map=approval_source_map,
                clear_source_map=clear_source_map,
            )
        )

    def new_group(self) -> "PieoutComposer":
        return PieoutComposer(self)

    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["calc_single_box_fee(uint8,uint16)uint64"],
        return_value: algokit_utils.ABIReturn | None
    ) -> int | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["read_gen_unix()uint64"],
        return_value: algokit_utils.ABIReturn | None
    ) -> int | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)"],
        return_value: algokit_utils.ABIReturn | None
    ) -> tuple[int, bool, int, int, int, int, int, str, str] | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["read_game_players(uint64)address[]"],
        return_value: algokit_utils.ABIReturn | None
    ) -> list[str] | None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["reset_game(uint64,pay)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["new_game(uint64,pay,pay,pay)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["join_game(uint64,pay)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["commit_rand(uint64,pay)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["play_game(uint64)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["claim_prize_pool(uint64)void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["generate()void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: typing.Literal["terminate()void"],
        return_value: algokit_utils.ABIReturn | None
    ) -> None: ...
    @typing.overload
    def decode_return_value(
        self,
        method: str,
        return_value: algokit_utils.ABIReturn | None
    ) -> algokit_utils.ABIValue | algokit_utils.ABIStruct | None: ...

    def decode_return_value(
        self,
        method: str,
        return_value: algokit_utils.ABIReturn | None
    ) -> algokit_utils.ABIValue | algokit_utils.ABIStruct | None | int | list[str] | tuple[int, bool, int, int, int, int, int, str, str]:
        """Decode ABI return value for the given method."""
        if return_value is None:
            return None
    
        arc56_method = self.app_spec.get_arc56_method(method)
        decoded = return_value.get_arc56_value(arc56_method, self.app_spec.structs)
    
        # If method returns a struct, convert the dict to appropriate dataclass
        if (arc56_method and
            arc56_method.returns and
            arc56_method.returns.struct and
            isinstance(decoded, dict)):
            struct_class = globals().get(arc56_method.returns.struct)
            if struct_class:
                return struct_class(**typing.cast(dict, decoded))
        return decoded


@dataclasses.dataclass(frozen=True)
class PieoutMethodCallCreateParams(
    algokit_utils.AppClientCreateSchema, algokit_utils.BaseAppClientMethodCallParams[
        typing.Any,
        str | None,
    ]
):
    """Parameters for creating Pieout contract using ABI"""
    on_complete: typing.Literal[OnComplete.NoOpOC] | None = None
    method: str | None = None

    def to_algokit_utils_params(self) -> algokit_utils.AppClientMethodCallCreateParams:
        method_args = _parse_abi_args(self.args)
        return algokit_utils.AppClientMethodCallCreateParams(
            **{
                **self.__dict__,
                "method": self.method or getattr(self.args, "abi_method_signature", None),
                "args": method_args,
            }
        )

@dataclasses.dataclass(frozen=True)
class PieoutMethodCallDeleteParams(
    algokit_utils.BaseAppClientMethodCallParams[
        typing.Any,
        str | None,
    ]
):
    """Parameters for calling Pieout contract using ABI"""
    on_complete: typing.Literal[OnComplete.DeleteApplicationOC] | None = None
    method: str | None = None

    def to_algokit_utils_params(self) -> algokit_utils.AppClientMethodCallParams:
        method_args = _parse_abi_args(self.args)
        return algokit_utils.AppClientMethodCallParams(
            **{
                **self.__dict__,
                "method": self.method or getattr(self.args, "abi_method_signature", None),
                "args": method_args,
            }
        )

class PieoutFactory(algokit_utils.TypedAppFactoryProtocol[PieoutMethodCallCreateParams, None, PieoutMethodCallDeleteParams]):
    """Factory for deploying and managing PieoutClient smart contracts"""

    def __init__(
        self,
        algorand: _AlgoKitAlgorandClient,
        *,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        version: str | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
    ):
        self.app_factory = algokit_utils.AppFactory(
            params=algokit_utils.AppFactoryParams(
                algorand=algorand,
                app_spec=APP_SPEC,
                app_name=app_name,
                default_sender=default_sender,
                default_signer=default_signer,
                version=version,
                compilation_params=compilation_params,
            )
        )
        self.params = PieoutFactoryParams(self.app_factory)
        self.create_transaction = PieoutFactoryCreateTransaction(self.app_factory)
        self.send = PieoutFactorySend(self.app_factory)

    @property
    def app_name(self) -> str:
        return self.app_factory.app_name
    
    @property
    def app_spec(self) -> algokit_utils.Arc56Contract:
        return self.app_factory.app_spec
    
    @property
    def algorand(self) -> _AlgoKitAlgorandClient:
        return self.app_factory.algorand

    def deploy(
        self,
        *,
        on_update: algokit_utils.OnUpdate | None = None,
        on_schema_break: algokit_utils.OnSchemaBreak | None = None,
        create_params: PieoutMethodCallCreateParams | None = None,
        update_params: None = None,
        delete_params: PieoutMethodCallDeleteParams | None = None,
        existing_deployments: algokit_utils.ApplicationLookup | None = None,
        ignore_cache: bool = False,
        app_name: str | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
        send_params: algokit_utils.SendParams | None = None,
    ) -> tuple[PieoutClient, algokit_utils.AppFactoryDeployResult]:
        """Deploy the application"""
        deploy_response = self.app_factory.deploy(
            on_update=on_update,
            on_schema_break=on_schema_break,
            create_params=create_params.to_algokit_utils_params() if create_params else None,
            update_params=update_params,
            delete_params=delete_params.to_algokit_utils_params() if delete_params else None,
            existing_deployments=existing_deployments,
            ignore_cache=ignore_cache,
            app_name=app_name,
            compilation_params=compilation_params,
            send_params=send_params,
        )

        return PieoutClient(deploy_response[0]), deploy_response[1]

    def get_app_client_by_creator_and_name(
        self,
        creator_address: str,
        app_name: str,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        ignore_cache: bool | None = None,
        app_lookup_cache: algokit_utils.ApplicationLookup | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> PieoutClient:
        """Get an app client by creator address and name"""
        return PieoutClient(
            self.app_factory.get_app_client_by_creator_and_name(
                creator_address,
                app_name,
                default_sender,
                default_signer,
                ignore_cache,
                app_lookup_cache,
                approval_source_map,
                clear_source_map,
            )
        )

    def get_app_client_by_id(
        self,
        app_id: int,
        app_name: str | None = None,
        default_sender: str | None = None,
        default_signer: TransactionSigner | None = None,
        approval_source_map: SourceMap | None = None,
        clear_source_map: SourceMap | None = None,
    ) -> PieoutClient:
        """Get an app client by app ID"""
        return PieoutClient(
            self.app_factory.get_app_client_by_id(
                app_id,
                app_name,
                default_sender,
                default_signer,
                approval_source_map,
                clear_source_map,
            )
        )


class PieoutFactoryParams:
    """Parameters for creating transactions for Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = PieoutFactoryCreateParams(app_factory)
        self.update = PieoutFactoryUpdateParams(app_factory)
        self.delete = PieoutFactoryDeleteParams(app_factory)

class PieoutFactoryCreateParams:
    """Parameters for 'create' operations of Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateParams:
        """Creates an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
            compilation_params=compilation_params)

    def calc_single_box_fee(
        self,
        args: tuple[int, int] | CalcSingleBoxFeeArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the calc_single_box_fee(uint8,uint16)uint64 ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "calc_single_box_fee(uint8,uint16)uint64",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def read_gen_unix(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the read_gen_unix()uint64 ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "read_gen_unix()uint64",
                "args": None,
                }
            ),
            compilation_params=compilation_params
        )

    def read_game_state(
        self,
        args: tuple[int] | ReadGameStateArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address) ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def read_game_players(
        self,
        args: tuple[int] | ReadGamePlayersArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the read_game_players(uint64)address[] ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "read_game_players(uint64)address[]",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def reset_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | ResetGameArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the reset_game(uint64,pay)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "reset_game(uint64,pay)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def new_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument] | NewGameArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the new_game(uint64,pay,pay,pay)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "new_game(uint64,pay,pay,pay)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def join_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | JoinGameArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the join_game(uint64,pay)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "join_game(uint64,pay)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def commit_rand(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | CommitRandArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the commit_rand(uint64,pay)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "commit_rand(uint64,pay)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def play_game(
        self,
        args: tuple[int] | PlayGameArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the play_game(uint64)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "play_game(uint64)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def claim_prize_pool(
        self,
        args: tuple[int] | ClaimPrizePoolArgs,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the claim_prize_pool(uint64)void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "claim_prize_pool(uint64)void",
                "args": _parse_abi_args(args),
                }
            ),
            compilation_params=compilation_params
        )

    def generate(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the generate()void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "generate()void",
                "args": None,
                }
            ),
            compilation_params=compilation_params
        )

    def terminate(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> algokit_utils.AppCreateMethodCallParams:
        """Creates a new instance using the terminate()void ABI method"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.create(
            algokit_utils.AppFactoryCreateMethodCallParams(
                **{
                **dataclasses.asdict(params),
                "method": "terminate()void",
                "args": None,
                }
            ),
            compilation_params=compilation_params
        )

class PieoutFactoryUpdateParams:
    """Parameters for 'update' operations of Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        
    ) -> algokit_utils.AppUpdateParams:
        """Updates an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.deploy_update(
            algokit_utils.AppClientBareCallParams(**dataclasses.asdict(params)),
            )

class PieoutFactoryDeleteParams:
    """Parameters for 'delete' operations of Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        
    ) -> algokit_utils.AppDeleteParams:
        """Deletes an instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.params.bare.deploy_delete(
            algokit_utils.AppClientBareCallParams(**dataclasses.asdict(params)),
            )


class PieoutFactoryCreateTransaction:
    """Create transactions for Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = PieoutFactoryCreateTransactionCreate(app_factory)


class PieoutFactoryCreateTransactionCreate:
    """Create new instances of Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
    ) -> Transaction:
        """Creates a new instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        return self.app_factory.create_transaction.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
        )


class PieoutFactorySend:
    """Send calls to Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory
        self.create = PieoutFactorySendCreate(app_factory)


class PieoutFactorySendCreate:
    """Send create calls to Pieout contract"""

    def __init__(self, app_factory: algokit_utils.AppFactory):
        self.app_factory = app_factory

    def bare(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        send_params: algokit_utils.SendParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None,
    ) -> tuple[PieoutClient, algokit_utils.SendAppCreateTransactionResult]:
        """Creates a new instance using a bare call"""
        params = params or algokit_utils.CommonAppCallCreateParams()
        result = self.app_factory.send.bare.create(
            algokit_utils.AppFactoryCreateParams(**dataclasses.asdict(params)),
            send_params=send_params,
            compilation_params=compilation_params
        )
        return PieoutClient(result[0]), result[1]

    def generate(
        self,
        *,
        params: algokit_utils.CommonAppCallCreateParams | None = None,
        send_params: algokit_utils.SendParams | None = None,
        compilation_params: algokit_utils.AppClientCompilationParams | None = None
    ) -> tuple[PieoutClient, algokit_utils.AppFactoryCreateMethodCallResult[None]]:
            """Creates and sends a transaction using the generate()void ABI method"""
            params = params or algokit_utils.CommonAppCallCreateParams()
            client, result = self.app_factory.send.create(
                algokit_utils.AppFactoryCreateMethodCallParams(
                    **{
                    **dataclasses.asdict(params),
                    "method": "generate()void",
                    "args": None,
                    }
                ),
                send_params=send_params,
                compilation_params=compilation_params
            )
            return_value = None if result.abi_return is None else typing.cast(None, result.abi_return)
    
            return PieoutClient(client), algokit_utils.AppFactoryCreateMethodCallResult[None](
                **{
                    **result.__dict__,
                    "app_id": result.app_id,
                    "abi_return": return_value,
                    "transaction": result.transaction,
                    "confirmation": result.confirmation,
                    "group_id": result.group_id,
                    "tx_ids": result.tx_ids,
                    "transactions": result.transactions,
                    "confirmations": result.confirmations,
                    "app_address": result.app_address,
                }
            )


class _PieoutDeleteComposer:
    def __init__(self, composer: "PieoutComposer"):
        self.composer = composer
    def terminate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self.composer._composer.add_app_delete_method_call(
            self.composer.client.params.delete.terminate(
                
                params=params,
                
            )
        )
        self.composer._result_mappers.append(
            lambda v: self.composer.client.decode_return_value(
                "terminate()void", v
            )
        )
        return self.composer


class PieoutComposer:
    """Composer for creating transaction groups for Pieout contract calls"""

    def __init__(self, client: "PieoutClient"):
        self.client = client
        self._composer = client.algorand.new_group()
        self._result_mappers: list[typing.Callable[[algokit_utils.ABIReturn | None], object] | None] = []

    @property
    def delete(self) -> "_PieoutDeleteComposer":
        return _PieoutDeleteComposer(self)

    def calc_single_box_fee(
        self,
        args: tuple[int, int] | CalcSingleBoxFeeArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.calc_single_box_fee(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "calc_single_box_fee(uint8,uint16)uint64", v
            )
        )
        return self

    def read_gen_unix(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.read_gen_unix(
                
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "read_gen_unix()uint64", v
            )
        )
        return self

    def read_game_state(
        self,
        args: tuple[int] | ReadGameStateArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.read_game_state(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "read_game_state(uint64)(uint64,bool,uint8,uint8,uint8,uint16,uint64,address,address)", v
            )
        )
        return self

    def read_game_players(
        self,
        args: tuple[int] | ReadGamePlayersArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.read_game_players(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "read_game_players(uint64)address[]", v
            )
        )
        return self

    def reset_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | ResetGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.reset_game(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "reset_game(uint64,pay)void", v
            )
        )
        return self

    def new_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument, algokit_utils.AppMethodCallTransactionArgument] | NewGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.new_game(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "new_game(uint64,pay,pay,pay)void", v
            )
        )
        return self

    def join_game(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | JoinGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.join_game(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "join_game(uint64,pay)void", v
            )
        )
        return self

    def commit_rand(
        self,
        args: tuple[int, algokit_utils.AppMethodCallTransactionArgument] | CommitRandArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.commit_rand(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "commit_rand(uint64,pay)void", v
            )
        )
        return self

    def play_game(
        self,
        args: tuple[int] | PlayGameArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.play_game(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "play_game(uint64)void", v
            )
        )
        return self

    def claim_prize_pool(
        self,
        args: tuple[int] | ClaimPrizePoolArgs,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.claim_prize_pool(
                args=args,
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "claim_prize_pool(uint64)void", v
            )
        )
        return self

    def generate(
        self,
        params: algokit_utils.CommonAppCallParams | None = None
    ) -> "PieoutComposer":
        self._composer.add_app_call_method_call(
            self.client.params.generate(
                
                params=params,
            )
        )
        self._result_mappers.append(
            lambda v: self.client.decode_return_value(
                "generate()void", v
            )
        )
        return self

    def clear_state(
        self,
        *,
        args: list[bytes] | None = None,
        params: algokit_utils.CommonAppCallParams | None = None,
    ) -> "PieoutComposer":
        params=params or algokit_utils.CommonAppCallParams()
        self._composer.add_app_call(
            self.client.params.clear_state(
                algokit_utils.AppClientBareCallParams(
                    **{
                        **dataclasses.asdict(params),
                        "args": args
                    }
                )
            )
        )
        return self
    
    def add_transaction(
        self, txn: Transaction, signer: TransactionSigner | None = None
    ) -> "PieoutComposer":
        self._composer.add_transaction(txn, signer)
        return self
    
    def composer(self) -> algokit_utils.TransactionComposer:
        return self._composer
    
    def simulate(
        self,
        allow_more_logs: bool | None = None,
        allow_empty_signatures: bool | None = None,
        allow_unnamed_resources: bool | None = None,
        extra_opcode_budget: int | None = None,
        exec_trace_config: SimulateTraceConfig | None = None,
        simulation_round: int | None = None,
        skip_signatures: bool | None = None,
    ) -> algokit_utils.SendAtomicTransactionComposerResults:
        return self._composer.simulate(
            allow_more_logs=allow_more_logs,
            allow_empty_signatures=allow_empty_signatures,
            allow_unnamed_resources=allow_unnamed_resources,
            extra_opcode_budget=extra_opcode_budget,
            exec_trace_config=exec_trace_config,
            simulation_round=simulation_round,
            skip_signatures=skip_signatures,
        )
    
    def send(
        self,
        send_params: algokit_utils.SendParams | None = None
    ) -> algokit_utils.SendAtomicTransactionComposerResults:
        return self._composer.send(send_params)
